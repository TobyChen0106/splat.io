(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,function(e,t){e.exports=function(e,t,a){this.main=e,this.glow=t,this.shadow=a}},,,,,,function(e,t,a){e.exports=a.p+"static/media/p-01.14fa8e2b.svg"},function(e,t,a){e.exports=a.p+"static/media/p-01.be1643af.svg"},function(e,t,a){e.exports=a.p+"static/media/HitEffectiveCommon02.bb9ea272.wav"},function(e,t,a){e.exports=a.p+"static/media/BulletHitNoDamage.6e0d3ed4.wav"},,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/p-03.9aeccb4c.svg"},,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/splash2.47284f8c.wav"},function(e,t,a){e.exports=a.p+"static/media/p-02.e002223b.svg"},function(e,t,a){e.exports=a.p+"static/media/p-03.ec8fade7.svg"},function(e,t,a){e.exports=a.p+"static/media/p-04.a9ddaf35.svg"},function(e,t,a){e.exports=a.p+"static/media/p-02.c9be8994.svg"},function(e,t,a){e.exports=a.p+"static/media/p-03.efc2c3e2.svg"},function(e,t,a){e.exports=a.p+"static/media/p-04.996498a3.svg"},function(e,t,a){e.exports=a.p+"static/media/inkHit06.06b2c837.wav"},function(e,t,a){e.exports=a.p+"static/media/pink-01.92959e72.svg"},function(e,t,a){e.exports=a.p+"static/media/pink-02.032da1c3.svg"},function(e,t,a){e.exports=a.p+"static/media/pink-03.aa2c206b.svg"},function(e,t,a){e.exports=a.p+"static/media/blue-01.93385af3.svg"},function(e,t,a){e.exports=a.p+"static/media/blue-02.78e68feb.svg"},function(e,t,a){e.exports=a.p+"static/media/blue-03.98358227.svg"},function(e,t,a){e.exports=a.p+"static/media/green-01.c7a89ac8.svg"},function(e,t,a){e.exports=a.p+"static/media/green-02.d13b2050.svg"},function(e,t,a){e.exports=a.p+"static/media/green-03.e95e8e60.svg"},function(e,t,a){e.exports=a.p+"static/media/purple-01.56b26c88.svg"},function(e,t,a){e.exports=a.p+"static/media/purple-02.bbac2161.svg"},function(e,t,a){e.exports=a.p+"static/media/purple-03.a5cbce3b.svg"},function(e,t,a){e.exports=a.p+"static/media/inkBar.4467d4bf.svg"},,,,function(e,t,a){e.exports=a.p+"static/media/Fight.2046d9f8.mp3"},function(e,t,a){e.exports=a.p+"static/media/whistle.c8c50fb6.wav"},,,function(e,t,a){e.exports=a.p+"static/media/temp.2b31b498.gif"},function(e,t,a){e.exports=a.p+"static/media/logo.eabb5ff2.png"},function(e,t,a){e.exports=a.p+"static/media/resultBar.49eb83d2.svg"},,function(e,t,a){e.exports=a(133)},,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(51),i=a.n(r),s=(a(90),a(91),a(2)),l=a(3),c=a(5),p=a(4),m=a(6),h=a(9),u=a(52),y=a.n(u),d=a(36),f=a(84),g=(a(121),{WAITING:1,GAMING:2,FREEZE:3,FINISH:4}),v={STANDING_OWN:0,WALKING_OWN:1,DIVING_OWN:2,SWIMMING_OWN:3,ATTACKING_OWN:4,STANDING_SPACE:5,WALKING_SPACE:6,DIVING_SPACE:7,SWIMMING_SPACE:8,ATTACKING_SPACE:9,STANDING_ENEMY:10,WALKING_ENEMY:11,DIVING_ENEMY:12,SWIMMING_ENEMY:13,ATTACKING_ENEMY:14,DEAD:15},M=a(53),S=a.n(M),w=a(20),E=a.n(w),k=a(54),I=a.n(k),P=a(55),N=a.n(P),b=a(56),x=a.n(b),D=a(21),A=a.n(D),C=a(57),T=a.n(C),W=a(58),_=a.n(W),G=a(59),O=a.n(G),R=a(33),F=a.n(R),B=[],j={x:-1e3,y:-1e3},L=new Audio(S.a);L.volume=.5;var K=function(e,t,a,o,n){var r=e.getContext("2d"),i=a.playerTeam;switch(a.playerStatus){case v.STANDING_OWN:case v.WALKING_OWN:H(r,a,i,o);break;case v.DIVING_OWN:case v.SWIMMING_OWN:L.play(),Y(r,a,i,o,n);break;case v.ATTACKING_OWN:case v.STANDING_SPACE:case v.WALKING_SPACE:case v.DIVING_SPACE:case v.SWIMMING_SPACE:case v.ATTACKING_SPACE:case v.STANDING_ENEMY:case v.WALKING_ENEMY:H(r,a,i,o);break;case v.DIVING_ENEMY:case v.SWIMMING_ENEMY:break;case v.ATTACKING_ENEMY:H(r,a,i,o);break;case v.DEAD:U(r,a,i,o)}var s=t.getContext("2d");!(Math.abs(a.playerPosition.x-j.x)>50||Math.abs(a.playerPosition.y-j.y)>50)||a.playerStatus!==v.WALKING_OWN&&a.playerStatus!==v.SWIMMING_OWN&&a.playerStatus!==v.WALKING_ENEMY&&a.playerStatus!==v.SWIMMING_ENEMY||(B.push([a.playerPosition.x,a.playerPosition.y,20,300]),j.x=a.playerPosition.x,j.y=a.playerPosition.y),s.clearRect(0,0,t.width,t.height);for(var l=0;l<B.length;++l)B[l][2]+=.5,V(s,B[l][0],B[l][1],B[l][2],20),B[l][2]-10>0&&z(s,B[l][0],B[l][1],B[l][2]-10,20),B[l][2]-20>0&&Z(s,B[l][0],B[l][1],B[l][2]-20,20),B[l][2]>=B[l][3]&&(B.splice(l,1),--l)},H=function(e,t,a,o){var n=t.playerName,r=t.playerColor,i=t.playerPosition,s=t.playerAngle;e.save(),e.translate(i.x,i.y),e.font="bold 12pt Freckle Face";var l=e.measureText(n).width;e.strokeStyle=o?"#ffd700":"#FFFFFF",e.lineWidth=3,e.strokeText(n,-l/2,50),e.fillStyle=r,e.font="bold 12pt Freckle Face",e.fillText(n,-l/2,50),e.restore();var c=new Image,p=new Image,m=new Image,h=new Image;"A"===a?(c.src=E.a,p.src=I.a,m.src=N.a,h.src=F.a):(c.src=A.a,p.src=T.a,m.src=_.a,h.src=F.a),e.translate(i.x,i.y),e.rotate(Math.PI/180*(s+180)),e.drawImage(c,-35,-37,65,65),e.drawImage(p,-35,-2,50,50),e.drawImage(h,-25,3,50,50),e.drawImage(m,-15,-2,50,50),e.rotate(-Math.PI/180*(s+180)),e.translate(-i.x,-i.y)},Y=function(e,t,a,o,n){var r=t.playerName,i=t.playerColor,s=t.playerPosition;if(n){e.save(),e.translate(s.x,s.y),e.font="bold 10pt Freckle Face";var l=e.measureText(r).width;e.strokeStyle=o?"#ffd700":"#FFFFFF",e.lineWidth=3,e.strokeText(r,-l/2,50),e.fillStyle=i,e.font="bold 10pt Freckle Face",e.fillText(r,-l/2,50),e.restore();var c=new Image;c.src="A"===a?x.a:O.a,e.translate(s.x,s.y),e.drawImage(c,-35,-13,65,65),e.translate(-s.x,-s.y)}},U=function(e,t,a,o){var n=t.playerName,r=t.playerColor,i=t.playerPosition;e.save(),e.translate(i.x,i.y),e.beginPath(),e.moveTo(-25,-25),e.lineTo(25,25),e.moveTo(25,-25),e.lineTo(-25,25),e.closePath(),e.lineWidth=10,e.stroke(),e.font="bold 10pt Freckle Face";var s=e.measureText(n).width;e.strokeStyle=o?"#ffd700":"#FFFFFF",e.lineWidth=3,e.strokeText(n,-s/2,50),e.fillStyle=r,e.font="bold 10pt Freckle Face",e.fillText(n,-s/2,50),e.restore()},V=function(e,t,a,o,n){var r=0,i=0,s=0;e.save(),e.beginPath();for(var l=0;l<n;l++)r=l/n*2*Math.PI,i=t+o*Math.sin(r),s=a+o*Math.cos(r),e.lineTo(i,s);e.closePath(),e.lineWidth=3,e.strokeStyle="rgba(230,230,230,"+Math.max(0,40-o)/100+")",e.stroke(),e.restore()},z=function(e,t,a,o,n){var r=0,i=0,s=0;e.save(),e.beginPath();for(var l=0;l<n;l++)r=l/n*2*Math.PI,i=t+o*Math.sin(r),s=a+o*Math.cos(r),e.lineTo(i,s);e.closePath(),e.lineWidth=2,e.strokeStyle="rgba(220,220,220,"+Math.max(0,26-o)/100+")",e.stroke(),e.restore()},Z=function(e,t,a,o,n){var r=0,i=0,s=0;e.save(),e.beginPath();for(var l=0;l<n;l++)r=l/n*2*Math.PI,i=t+o*Math.sin(r),s=a+o*Math.cos(r),e.lineTo(i,s);e.closePath(),e.lineWidth=1,e.strokeStyle="rgba(200,200,200,"+Math.max(0,22-o)/100+")",e.stroke(),e.restore()},J={fieldRange:{xMin:50,xMax:1550,yMin:50,yMax:850},rectObjects:[["rock",500,500,100,200],["rock",1e3,500,100,200],["rock",500,50,100,200],["rock",1e3,50,100,200],["rock",650,400,300,100],["rock",750,300,100,300],["rock",50,0,1600,50],["rock",0,50,50,900],["rock",50,850,1600,50],["rock",1550,50,50,900],["rock",0,0,50,50],["rock",1550,0,50,50],["rock",0,850,50,50],["rock",1550,850,50,50]],polyObjects:[]},$=function(e){var t=J,a=t.rectObjects,o=t.fieldRange.xMin,n=t.fieldRange.yMin,r=t.fieldRange.xMax,i=t.fieldRange.yMax,s=e.getContext("2d");s.save(),s.shadowBlur=3,s.shadowColor="rgba(63, 255, 239, 0.555)",s.shadowOffsetX=0,s.shadowOffsetY=0;var l=X(o,n,r-o,i-n,30);s.strokeStyle="#525C63",s.lineWidth=8,s.stroke(l);l=X(o-6,n-6,r-o+12,i-n+12,30);s.strokeStyle="#3B4349",s.lineWidth=8,s.stroke(l);for(var c=0;c<a.length;++c){a[c][1],a[c][2],a[c][3],a[c][4];switch(a[c][0]){case"rock":s.fillStyle="#525C63";var p=X(a[c][1],a[c][2],a[c][3],a[c][4],5);s.fill(p),s.fillStyle="#3B4349",p=X(a[c][1]+8,a[c][2]+8,a[c][3]-16,a[c][4]-16,5),s.fill(p),s.fillStyle="#21292D",p=X(a[c][1]+20,a[c][2]+20,a[c][3]-40,a[c][4]-40,5),s.fill(p)}}a=t.polyObjects;for(c=0;c<a.length;++c)switch(a[c][0]){case"rock":s.fillStyle="#525C63";p=q(a[c]);s.fill(p)}s.restore()};function X(e,t,a,o,n){var r=new Path2D;return r.moveTo(e+n,t),r.lineTo(e+a-n,t),r.arc(e+a-n,t+n,n,Math.PI/180*270,0,!1),r.lineTo(e+a,t+o-n),r.arc(e+a-n,t+o-n,n,0,Math.PI/180*90,0,!1),r.lineTo(e+n,t+o),r.arc(e+n,t+o-n,n,Math.PI/180*90,Math.PI/180*180,!1),r.lineTo(e,t+n),r.arc(e+n,t+n,n,Math.PI/180*180,Math.PI/180*270,!1),r}function q(e){var t=new Path2D,a=e.length;t.moveTo(e[a-1][0],e[a-1][1]);for(var o=1;o<a;o++)t.lineTo(e[o][0],e[o][1]);return t}var Q=a(60),ee=a.n(Q),te=a(61),ae=a.n(te),oe=a(62),ne=a.n(oe),re=a(63),ie=a.n(re),se=a(64),le=a.n(se),ce=a(65),pe=a.n(ce),me=a(66),he=a.n(me),ue=a(67),ye=a.n(ue),de=a(68),fe=a.n(de),ge=a(69),ve=a.n(ge),Me=a(70),Se=a.n(Me),we=a(71),Ee=a.n(we),ke=a(72),Ie=a.n(ke),Pe=[[ae.a,ne.a,ie.a],[le.a,pe.a,he.a],[ye.a,fe.a,ve.a],[Se.a,Ee.a,Ie.a]],Ne=[],be=new Audio(ee.a);be.volume=.5;var xe=function(e,t,a,o,n,r){var i=e.getContext("2d"),s=t.getContext("2d");i.save();for(var l=0;l<a.length;++l){var c=a[l][6],p=a[l][0],m=a[l][1],h=a[l][2],u=a[l][3],y=2*a[l][4],d=new Image;d.src=Pe[c][p],d.onload=function(){i.translate(m,h),i.rotate(u/180*Math.PI),i.drawImage(d,-y/2,-y/2,y,y),i.rotate(-u/180*Math.PI),i.translate(-m,-h)},be.currentTime=0,be.play(),Ne.push([m,h,1,y])}i.restore();for(var f=0;f<Ne.length;++f)Ne[f][2]+=2,De(s,Ne[f][0],Ne[f][1],Ne[f][2],20),Ne[f][2]-10>0&&Ae(s,Ne[f][0],Ne[f][1],Ne[f][2]-10,20),Ne[f][2]-20>0&&Ce(s,Ne[f][0],Ne[f][1],Ne[f][2]-20,20),Ne[f][2]>=Ne[f][3]&&(Ne.splice(f,1),--f)},De=function(e,t,a,o,n){var r=0,i=0,s=0;e.save(),e.beginPath();for(var l=0;l<n;l++)r=l/n*2*Math.PI,i=t+o*Math.sin(r),s=a+o*Math.cos(r),e.lineTo(i,s);e.closePath(),e.lineWidth=3,e.strokeStyle="rgba(230,230,230,"+Math.max(0,30-o)/100+")",e.stroke(),e.restore()},Ae=function(e,t,a,o,n){var r=0,i=0,s=0;e.save(),e.beginPath();for(var l=0;l<n;l++)r=l/n*2*Math.PI,i=t+o*Math.sin(r),s=a+o*Math.cos(r),e.lineTo(i,s);e.closePath(),e.lineWidth=2,e.strokeStyle="rgba(220,220,220,"+Math.max(0,20-o)/100+")",e.stroke(),e.restore()},Ce=function(e,t,a,o,n){var r=0,i=0,s=0;e.save(),e.beginPath();for(var l=0;l<n;l++)r=l/n*2*Math.PI,i=t+o*Math.sin(r),s=a+o*Math.cos(r),e.lineTo(i,s);e.closePath(),e.lineWidth=1,e.strokeStyle="rgba(200,200,200,"+Math.max(0,10-o)/100+")",e.stroke(),e.restore()},Te=function(e,t,a,o,n){var r=e.getContext("2d");r.clearRect(0,0,e.width,e.height),r.save(),_e(r,a.x,a.y,o),We(r,n),r.restore()},We=function(e,t){e.save();for(var a=0;a<t.length;++a){var o=0,n=0,r=0;e.beginPath();for(var i=0;i<20;i++)o=i/20*2*Math.PI,n=t[a][0]+10*Math.sin(o),r=t[a][1]+10*Math.cos(o),e.lineTo(n,r);for(e.closePath(),e.strokeStyle="#b3198c88",e.lineWidth=3,e.stroke(),e.beginPath(),i=0;i<20;i++)o=i/20*2*Math.PI,n=t[a][0]+7*Math.sin(o),r=t[a][1]+7*Math.cos(o),e.lineTo(n,r);e.closePath(),e.strokeStyle="#77777755",e.lineWidth=2,e.stroke()}e.restore()},_e=function(e,t,a,o){var n=0,r=0,i=0;e.save(),e.translate(t,a),e.save(),e.rotate(-Math.PI/180*o),e.beginPath();for(var s=0;s<20;s++)n=s/20*2*Math.PI,r=15*Math.sin(n),i=15*Math.cos(n),e.lineTo(r,i);e.closePath(),e.strokeStyle="#77777755",e.lineWidth=3,e.stroke(),e.beginPath();for(s=0;s<20;s++)n=s/20*2*Math.PI,r=9*Math.sin(n),i=9*Math.cos(n),e.lineTo(r,i);e.closePath(),e.strokeStyle="#77777755",e.lineWidth=1.5,e.stroke(),e.beginPath(),e.moveTo(0,-9),e.lineTo(0,-22),e.moveTo(0,9),e.lineTo(0,22),e.moveTo(-9,0),e.lineTo(-22,0),e.moveTo(9,0),e.lineTo(22,0),e.closePath(),e.lineWidth=3,e.stroke(),e.restore(),e.restore()},Ge=a(22),Oe=a.n(Ge),Re=a(23),Fe=a.n(Re),Be=new Audio(Oe.a);Be.volume=.5,new Audio(Fe.a).volume=.5;var je=function(e,t,a,o,n){var r=e.getContext("2d");r.save();for(var i=0;i<t.length;++i)if(r.fillStyle=a.main,Le(r,t[i][1],t[i][2],8,10),Ke(r,t[i][1],t[i][2],8,10),1===t[i][3]){var s=Math.pow(Math.pow(o-t[i][1],2)+Math.pow(n-t[i][2],2),.5);s<800&&(Be.volume=.5/Math.min(5,s/100+1),Be.currentTime=0,Be.play())}r.restore()},Le=function(e,t,a,o,n){var r=0,i=0,s=0;e.beginPath();for(var l=0;l<n;l++)r=l/n*2*Math.PI,i=t+o*Math.sin(r),s=a+o*Math.cos(r),e.lineTo(i,s);e.closePath(),e.fill()},Ke=function(e,t,a,o,n){var r=0,i=0,s=0;e.beginPath();for(var l=0;l<n;l++)r=l/n*2*Math.PI,i=t+o*Math.sin(r),s=a+o*Math.cos(r),e.lineTo(i,s);e.closePath(),e.lineWidth=3,e.strokeStyle="#55555533",e.stroke()},He=function(e,t,a,o,n,r,i,s){t.getContext("2d").clearRect(0,0,t.width,t.height),a.getContext("2d").clearRect(0,0,a.width,a.height),o.getContext("2d").clearRect(0,0,o.width,o.height);for(var l=n.length,c=0,p=0;p<l;++p)n[p].playerTeam===s&&(c=1),K(a,o,n[p],p===l-1?1:0,c),xe(e,o,n[p].splats,n[p].playerColor,n[p].playerAngle,n[p].playerPosition),je(t,n[p].bullets,n[p].playerColor,r,i)},Ye=a(14),Ue=a.n(Ye),Ve=[new Ue.a("#ff1493","#e72dc2","#d467a5"),new Ue.a("#02fffc","#44afec","#84d1e4"),new Ue.a("#25ff5d","#44ec6b","#82db8a"),new Ue.a("#866aff","#8744ec","#c793e5")],ze={splatterShot_v1:{main:{type:0,maxShootDistance:400,bulletSpeed:30,fireSpeed:200,fireInkCost:5,maxError:20,gunLength:25,splatSize:75,splatDamage:35,splatShapeId:[0,1,2]},sub:{},price:1e3}},Ze=function(e,t){switch(e.key){case"w":case"W":case"ArrowUp":t.playerMoveDirection.y=-1,t.keyStrokeState.up=1;break;case"s":case"S":case"ArrowDown":t.playerMoveDirection.y=1,t.keyStrokeState.down=1;break;case"a":case"A":case"ArrowLeft":t.playerMoveDirection.x=-1,t.keyStrokeState.left=1;break;case"d":case"D":case"ArrowRight":t.playerMoveDirection.x=1,t.keyStrokeState.right=1;break;case" ":t.keyStrokeState.space=1}},Je=function(e,t){switch(e.key){case"w":case"W":case"ArrowUp":1===t.keyStrokeState.down?t.playerMoveDirection.y=1:t.playerMoveDirection.y=0,t.keyStrokeState.up=0;break;case"s":case"S":case"ArrowDown":1===t.keyStrokeState.up?t.playerMoveDirection.y=-1:t.playerMoveDirection.y=0,t.keyStrokeState.down=0;break;case"a":case"A":case"ArrowLeft":1===t.keyStrokeState.right?t.playerMoveDirection.x=1:t.playerMoveDirection.x=0,t.keyStrokeState.left=0;break;case"d":case"D":case"ArrowRight":1===t.keyStrokeState.left?t.playerMoveDirection.x=-1:t.playerMoveDirection.x=0,t.keyStrokeState.right=0;break;case" ":t.keyStrokeState.space=0}},$e=function(e,t){t.mouseClient.x=e.clientX,t.mouseClient.y=e.clientY},Xe=function(e,t,a,o){var n=0;o-t>=0&&(n=180);var r=(a-e)/(o-t);return-1*qe(Math.atan(r))+n},qe=function(e){return 180*e/Math.PI},Qe=function(e,t){var a=J,o=a.rectObjects;if(t.gameState===g.GAMING){var n=e.playerPosition.x,r=e.playerPosition.y,i=t.playerMoveSpeed,s=t.playerMoveDirection.x,l=t.playerMoveDirection.y;0!==s&&0!==l&&(i/=1.414);var c=n+s*i,p=r+l*i;c=Math.min(Math.max(c,a.fieldRange.xMin+25),a.fieldRange.xMax-25),p=Math.min(Math.max(p,a.fieldRange.yMin+25),a.fieldRange.yMax-25);for(var m=0;m<o.length;++m){var h=o[m][1]+o[m][3]/2,u=o[m][2]+o[m][4]/2;if(Math.abs(c-h)<(o[m][3]+50)/2&&Math.abs(p-u)<(o[m][4]+50)/2){var y=n<h?h-(o[m][3]+50)/2:h+(o[m][3]+50)/2,d=r<u?u-(o[m][4]+50)/2:u+(o[m][4]+50)/2;Math.abs(y-n)<Math.abs(d-r)?c=y:Math.abs(y-n)>Math.abs(d-r)?p=d:(c=y,p=d)}}return e.playerPosition.x=c,e.playerPosition.y=p,e.playerPosition}};new Audio(Oe.a).volume=.5;var et=new Audio(Fe.a);et.volume=.5;var tt=[],at=0,ot=function(e,t,a){var o=e.playerAngle,n=e.playerPosition.x,r=e.playerPosition.y,i=t.mousePosition.x,s=t.mousePosition.y,l=[],c=[],p=[],m=0;if(t.gameState===g.GAMING&&e.playerStatus!==v.DEAD)switch(e.playerWeapon.main.type){case 0:var h=e.playerWeapon.main.maxShootDistance,u=e.playerWeapon.main.bulletSpeed,y=e.playerWeapon.main.fireSpeed,d=e.playerWeapon.main.fireInkCost,f=e.playerWeapon.main.maxError,M=e.playerWeapon.main.gunLength,S=Math.pow(Math.pow(i-n,2)+Math.pow(s-r,2),.5),w=Math.min(S,h),E=n+Math.sin(o/180*Math.PI)*w,k=r-Math.cos(o/180*Math.PI)*w,I=lt(n,r,E,k),P=ct(n,r,I[0],I[1],a,e.playerUid);c.push([P[0],P[1]]),E=n+Math.sin(o/180*Math.PI)*w+2*(Math.random()-.5)*f,k=r-Math.cos(o/180*Math.PI)*w+2*(Math.random()-.5)*f;var N=n+Math.sin(o/180*Math.PI)*M,b=r-Math.cos(o/180*Math.PI)*M,x=lt(N,b,E,k),D=ct(N,b,x[0],x[1],a,e.playerUid),A=D[0],C=D[1],T=Math.pow(Math.pow(A-N,2)+Math.pow(C-b,2),.5);0===t.keyStrokeState.space&&1===t.mouseDownState&&t.timeStamp-at>y&&(at=t.timeStamp,t.inkAmount-d>=0?(m=d,tt.push([0,N,b,A,C,(A-N)/T*u,(C-b)/T*u,1])):(et.currentTime=0,et.play()))}for(var W=0;W<tt.length;++W)if(tt[W][1]+=tt[W][5],tt[W][2]+=tt[W][6],1===tt[W][7]?(p.push([0,tt[W][1],tt[W][2],1]),tt[W][7]=0):p.push([0,tt[W][1],tt[W][2],0]),Math.abs(tt[W][1]-tt[W][3])<Math.abs(tt[W][5])||Math.abs(tt[W][2]-tt[W][4])<Math.abs(tt[W][6])){var _=2*(Math.random()-.5)*Math.PI,G=e.playerWeapon.main.splatSize,O=e.playerWeapon.main.splatDamage,R=e.playerWeapon.main.splatShapeId[Math.floor(Math.random()*e.playerWeapon.main.splatShapeId.length)],F=e.playerColorID;l.push([R,tt[W][3],tt[W][4],_,G,O,F]),tt.splice(W,1),--W}else;return e.bullets=p,e.splats=l,[c,m]};var nt=function(e,t,a){for(var o=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}(t.playerColor.main),n=e.getContext("2d").getImageData(t.playerPosition.x-25,t.playerPosition.y-25,51,51).data,r=0,i=0,s=0;s<11;++s)for(var l=0;l<11;++l)0!==n[4*(51*s*5+5*l)+3]?n[4*(51*s*5+5*l)]===o[0]&&n[4*(51*s*5+5*l)+1]===o[1]&&n[4*(51*s*5+5*l)+2]===o[2]&&(r+=1):i+=1;var c=0;switch(i/121<.5&&(c=r<121-r-i?1:2),c){case 0:1===a.mouseDownState?t.playerStatus=v.ATTACKING_SPACE:0===a.keyStrokeState.space?0===a.playerMoveDirection.x&&0===a.playerMoveDirection.y?t.playerStatus=v.STANDING_SPACE:t.playerStatus=v.WALKING_SPACE:0===a.playerMoveDirection.x&&0===a.playerMoveDirection.y?t.playerStatus=v.DIVING_SPACE:t.playerStatus=v.SWIMMING_SPACE;break;case 1:1===a.mouseDownState?t.playerStatus=v.ATTACKING_ENEMY:0===a.keyStrokeState.space?0===a.playerMoveDirection.x&&0===a.playerMoveDirection.y?t.playerStatus=v.STANDING_ENEMY:t.playerStatus=v.WALKING_ENEMY:0===a.playerMoveDirection.x&&0===a.playerMoveDirection.y?t.playerStatus=v.DIVING_ENEMY:t.playerStatus=v.SWIMMING_ENEMY;break;case 2:1===a.mouseDownState?t.playerStatus=v.ATTACKING_OWN:0===a.keyStrokeState.space?0===a.playerMoveDirection.x&&0===a.playerMoveDirection.y?t.playerStatus=v.STANDING_OWN:t.playerStatus=v.WALKING_OWN:0===a.playerMoveDirection.x&&0===a.playerMoveDirection.y?t.playerStatus=v.DIVING_OWN:t.playerStatus=v.SWIMMING_OWN}},rt=function(e,t){switch(e.playerStatus){case v.STANDING_OWN:case v.WALKING_OWN:t.playerMoveSpeed=4;break;case v.DIVING_OWN:case v.SWIMMING_OWN:t.playerMoveSpeed=6;break;case v.ATTACKING_OWN:t.playerMoveSpeed=2.5;break;case v.STANDING_SPACE:case v.WALKING_SPACE:t.playerMoveSpeed=3;break;case v.DIVING_SPACE:case v.SWIMMING_SPACE:case v.ATTACKING_SPACE:t.playerMoveSpeed=1;break;case v.STANDING_ENEMY:case v.WALKING_ENEMY:case v.DIVING_ENEMY:case v.SWIMMING_ENEMY:t.playerMoveSpeed=1.5;break;case v.ATTACKING_ENEMY:t.playerMoveSpeed=.5;break;case v.DEAD:default:t.playerMoveSpeed=0}switch(e.gameState){case g.FREEZE:case g.FINISH:t.playerMoveSpeed=0}},it=function(e,t,a){var o=a.inkAmount,n=a.playerHealth;o-=e;var r=0,i=0;switch(t.playerStatus){case v.STANDING_OWN:case v.WALKING_OWN:r=.1,i=.2;break;case v.DIVING_OWN:r=.5,i=.8;break;case v.SWIMMING_OWN:r=1,i=1.5;break;case v.ATTACKING_OWN:r=.1,i=.2;break;case v.STANDING_SPACE:case v.WALKING_SPACE:case v.DIVING_SPACE:case v.SWIMMING_SPACE:case v.ATTACKING_SPACE:r=.1,i=.1;break;case v.STANDING_ENEMY:case v.WALKING_ENEMY:case v.DIVING_ENEMY:case v.SWIMMING_ENEMY:case v.ATTACKING_ENEMY:r=.1,i=0;break;default:r=0,i=0}return o+=r,o=Math.max(Math.min(o,100),0),n+=i,n=Math.max(Math.min(n,100),0),a.playerHealth=n,[o,n]},st=function(e,t,a,o,n,r,i,s){if(e===a&&t===o||n===i&&r===s)return!1;var l=(s-r)*(a-e)-(i-n)*(o-t);if(0===l)return!1;var c=((i-n)*(t-r)-(s-r)*(e-n))/l,p=((a-e)*(t-r)-(o-t)*(e-n))/l;return!(c<0||c>1||p<0||p>1)&&{x:e+c*(a-e),y:t+c*(o-t)}},lt=function(e,t,a,o){for(var n,r=J,i=a,s=o,l=Math.pow(Math.pow(i-e,2)+Math.pow(s-t,2),.5),c=r.rectObjects,p=0;p<c.length;++p){var m=c[p][1],h=c[p][2],u=c[p][1]+c[p][3],y=c[p][2]+c[p][4];(v=[]).push(st(e,t,i,s,m,h,m,y)),v.push(st(e,t,i,s,m,h,u,h)),v.push(st(e,t,i,s,u,h,u,y)),v.push(st(e,t,i,s,m,y,u,y));for(var d=0;d<v.length;++d)!1!==v[d]&&(n=Math.pow(Math.pow(v[d].x-e,2)+Math.pow(v[d].y-t,2),.5))<l&&(l=n,i=v[d].x,s=v[d].y)}c=r.polyObjects;for(p=0;p<c.length;++p){var f,g=c[p].length;for(d=1;d<g;++d)d===g-1?!1!==(f=st(e,t,i,s,c[p][d][0],c[p][d][1],c[p][1][0],c[p][1][1]))&&(n=Math.pow(Math.pow(f.x-e,2)+Math.pow(f.y-t,2),.5))<l&&(l=n,i=f.x,s=f.y):!1!==(f=st(e,t,i,s,c[p][d][0],c[p][d][1],c[p][d+1][0],c[p][d+1][1]))&&(n=Math.pow(Math.pow(f.x-e,2)+Math.pow(f.y-t,2),.5))<l&&(l=n,i=f.x,s=f.y)}var v,M=r.fieldRange.xMin,S=r.fieldRange.yMin,w=r.fieldRange.xMax,E=r.fieldRange.yMax;(v=[]).push(st(e,t,i,s,M,S,M,E)),v.push(st(e,t,i,s,M,S,w,S)),v.push(st(e,t,i,s,w,S,w,E)),v.push(st(e,t,i,s,M,E,w,E));for(d=0;d<v.length;++d)if(!1!==v[d]){var k=Math.pow(Math.pow(v[d].x-e,2)+Math.pow(v[d].y-t,2),.5);k<l&&(l=k,i=v[d].x,s=v[d].y)}return[i,s]},ct=function(e,t,a,o,n,r){for(var i=0;i<n.length;++i)if(n[i].playerUid!==r&&n[i].playerStatus!==v.DEAD){var s=n[i].playerPosition.x-25,l=n[i].playerPosition.y-25,c=n[i].playerPosition.x+25,p=n[i].playerPosition.y+25,m=[];m.push(st(e,t,a,o,s,l,s,p)),m.push(st(e,t,a,o,s,l,c,l)),m.push(st(e,t,a,o,c,l,c,p)),m.push(st(e,t,a,o,s,p,c,p));for(var h=1e4,u=0;u<m.length;++u)if(!1!==m[u]){var y=Math.pow(Math.pow(m[u].x-e,2)+Math.pow(m[u].y-t,2),.5);y<h&&(h=y,a=m[u].x,o=m[u].y)}}return[a,o]};function pt(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}var mt=function(e,t,a,o){if(o.gameState===g.FREEZE){var n=t.getContext("2d");n.drawImage(e,0,0);for(var r=J.fieldRange.xMax-J.fieldRange.xMin,i=J.fieldRange.yMax-J.fieldRange.yMin,s=n.getImageData(J.fieldRange.xMin,J.fieldRange.yMin,r,i).data,l=pt(a.playerColor.main),c=pt(o.enemyColor.main),p=0,m=0,h=0,u=0;u<i;++u)for(var y=0;y<r;++y)0===s[4*(u*r+y)]&&0===s[4*(u*r+y)+1]&&0===s[4*(u*r+y)+2]&&0===s[4*(u*r+y)+3]?p+=1:s[4*(u*r+y)]===l[0]&&s[4*(u*r+y)+1]===l[1]&&s[4*(u*r+y)+2]===l[2]?m+=1:s[4*(u*r+y)]===c[0]&&s[4*(u*r+y)+1]===c[1]&&s[4*(u*r+y)+2]===c[2]&&(h+=1);var d=m/(p+m+h),f=h/(p+m+h);return{A:"A"===a.playerTeam?d:f,B:"B"===a.playerTeam?d:f}}},ht=function(e,t,a){if(e.playerStatus!==v.DEAD)for(var o=e.playerPosition.x,n=e.playerPosition.y,r=0;r<a.length;++r){for(var i=a[r].splats,s=0;s<i.length;++s){var l=Math.pow(Math.pow(o-i[s][1],2)+Math.pow(n-i[s][2],2),.5),c=0,p=Math.abs(i[s][4]-25),m=i[s][4]+25;c=l>m?0:l<p?i[s][5]:(l-p)/(m-p)*i[s][5],t.playerHealth=t.playerHealth-c}if(t.playerHealth<=0)return t.playerHealth=0,e.playerStatus=v.DEAD,{killerUid:a[r].playerUid,killerName:a[r].playerName,killedUid:e.playerUid,killedName:e.playerName}}return null},ut=(a(122),a(73)),yt=a.n(ut),dt=(a(134),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={inkColor:a.props.inkColor,inkAmount:a.props.inkAmount,inkBarPosition:{x:window.innerWidth-80,y:window.innerHeight-400}},console.log(a.state.inkColor),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"hexToRgb",value:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}},{key:"render",value:function(){var e={stroke:"none"},t={fill:this.state.inkColor.main,filter:"drop-shadow(0px 0px 5px "+this.state.inkColor.glow+")"};return n.a.createElement("g",null,n.a.createElement("rect",{className:"inkBar",x:this.state.inkBarPosition.x,y:this.state.inkBarPosition.y+3.4*(100-this.props.inkAmount),width:"50",height:3.4*this.props.inkAmount,style:t}),n.a.createElement("svg",{width:"1000",height:"1000",style:e,x:this.state.inkBarPosition.x-10,y:this.state.inkBarPosition.y-330},n.a.createElement("image",{href:yt.a,width:"70",height:"1000",style:e})))}}]),t}(n.a.Component)),ft=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={HPPosition:{x:window.innerWidth-140,y:window.innerHeight-260}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.hp<30?"#CC0033":"#FFFFFF",t=parseInt(this.props.hp);return n.a.createElement("g",null,n.a.createElement("text",{x:this.state.HPPosition.x-10,y:this.state.HPPosition.y-30,width:"45",style:{fill:e,fontSize:"30px"}},t),n.a.createElement("text",{x:this.state.HPPosition.x,y:this.state.HPPosition.y-10,width:"30"},"/100"),n.a.createElement("rect",{x:this.state.HPPosition.x,y:this.state.HPPosition.y+2*(100-t),width:"30",height:2*t+5,style:{fill:e}}))}}]),t}(o.Component),gt=a(77),vt=a.n(gt),Mt=a(78),St=a.n(Mt),wt=new Audio(vt.a);wt.volume=.5;var Et=new Audio(St.a);wt.volume=.3;var kt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).onKeyDown=function(e){Ze(e,a.localPlayerData)},a.onKeyUp=function(e){Je(e,a.localPlayerData)},a.trackMouse=function(e){$e(e,a.localPlayerData)},a.mouseDown=function(e){a.localPlayerData.mouseDownState=1},a.mouseUp=function(e){a.localPlayerData.mouseDownState=0},a.updateGame=function(){if(a.localPlayerData.gameState===g.GAMING||a.localPlayerData.gameState===g.FREEZE){var e=window.innerHeight,t=window.innerWidth;a.mouseScale=t>e?a.state.cameraSize/t:a.state.cameraSize/e;var o=a.groundRef.getBoundingClientRect();a.localPlayerData.mousePosition={x:(a.localPlayerData.mouseClient.x-o.left)*a.mouseScale,y:(a.localPlayerData.mouseClient.y-o.top)*a.mouseScale},a.playerData.playerAngle=Xe(a.playerData.playerPosition.x,a.playerData.playerPosition.y,a.localPlayerData.mousePosition.x,a.localPlayerData.mousePosition.y),a.playerData.playerStatus!==v.DEAD&&nt(a.splatRef,a.playerData,a.localPlayerData);var n=ht(a.playerData,a.localPlayerData,a.otherPlayerData);null!==n&&(console.log(n),a.localPlayerData.deadTime=a.localPlayerData.timeStamp),a.playerData.playerStatus===v.DEAD&&a.localPlayerData.timeStamp-a.localPlayerData.deadTime>=a.localPlayerData.respawnTime&&(a.playerData.playerStatus=v.STANDING_SPACE,a.playerData.playerPosition=a.localPlayerData.spawnPosition,a.localPlayerData.inkAmount=100,a.localPlayerData.playerHealth=100),rt(a.playerData,a.localPlayerData);var r=Qe(a.playerData,a.localPlayerData);if(a.localPlayerData.gameState===g.FREEZE){var i=a.state.gameBoardWidth,s=a.state.gameBoardHeight;a.setState({cameraSize:i>s?i:s}),a.setState({playerPosition:{x:i/2,y:s/2}}),wt.pause(),Et.play()}else a.setState({playerPosition:r});var l=ot(a.playerData,a.localPlayerData,a.otherPlayerData),c=Object(f.a)(l,2),p=c[0],m=c[1],h=it(m,a.playerData,a.localPlayerData);a.setState({inkAmount:h[0],healthAmount:h[1]}),a.otherPlayerData.push(a.playerData),He(a.splatRef,a.bulletRef,a.playerRef,a.splatAnimationRef,a.otherPlayerData,a.playerData.playerPosition.x,a.playerData.playerPosition.y,a.playerData.playerTeam),Te(a.aimPointRef,a.playerData.playerPosition,a.localPlayerData.mousePosition,a.playerData.playerAngle,p);var u=a.state.anouncement;0===Math.floor(20*Math.random())&&(u.push("new"),a.setState({anouncement:u}),setTimeout(function(){a.setState(function(e){return{anouncement:e.anouncement.splice(1)}})},3e3))}else a.setState({cameraSize:2e3});if(a.localPlayerData.timeStamp=Date.now(),a.localPlayerData.gameTime<10&&(a.localPlayerData.timeColor="#c71585"),a.localPlayerData.gameTime<=0&&(a.localPlayerData.gameState=g.FREEZE,a.localPlayerData.gameTime<=-5&&(a.localPlayerData.gameState=g.FINISH,clearInterval(a.updateGameIntervalId))),a.props.socket.emit("updateGame",Object(d.a)({},a.playerData)),a.localPlayerData.gameState===g.FREEZE&&0===a.calculateResultFlag){var y=mt(a.fieldRef,a.splatRef,a.playerData,a.localPlayerData);a.setState({gameResult:y}),a.calculateResultFlag=1,console.log(a.state.gameResult)}},a.componentDidMount=function(){a._ismount=!0,window.addEventListener("keyup",a.onKeyUp),window.addEventListener("keydown",a.onKeyDown),window.addEventListener("mousemove",a.trackMouse),window.addEventListener("mousedown",a.mouseDown),window.addEventListener("mouseup",a.mouseUp),a.updateGameIntervalId=setInterval(function(){a.updateGame()},50),$(a.fieldRef),wt.currentTime=0,wt.play()},a.componentWillUnmount=function(){a._ismount=!1,clearInterval(a.interval),window.removeEventListener("keyup",a.onKeyUp),window.removeEventListener("keydown",a.onKeyDown),window.removeEventListener("mousemove",a.trackMouse),window.removeEventListener("mousedown",a.mouseDown),window.removeEventListener("mouseup",a.mouseUp),wt.pause(),Et.pause()},a._ismount=!1,a.playerData={roomId:a.props.roomId,teamColor:a.props.teamColor,playerName:a.props.name,playerUid:a.props.uid,playerTeam:a.props.team,playerColor:Ve[a.props.teamColor[a.props.team]],playerColorID:a.props.teamColor[a.props.team],playerPosition:{x:100,y:100},playerAngle:0,playerStatus:v.STANDING_SPACE,playerWeapon:ze.splatterShot_v1,bullets:[],splats:[]},a.localPlayerData={spawnPosition:{x:500,y:500},respawnTime:2e3,gameState:g.GAMING,roomId:a.props.roomId,playerMoveSpeed:5,playerMoveDirection:{x:0,y:0},inkAmount:100,playerHealth:100,keyStrokeState:{left:0,right:0,up:0,down:0,space:0,g:0},mousePosition:{x:0,y:0},mouseClient:{x:0,y:0},mouseDownState:0,timeStamp:Date.now(),gameTime:Date.now(),deadTime:0,timeColor:"#FFFFFF",enemyColor:"A"===a.props.team?Ve[a.props.teamColor.B]:Ve[a.props.teamColor.A],result:{teamA:0,teamB:0}},a.otherPlayerData=[],a.calculateResultFlag=0,a.mouseScale=1,a.updateGameIntervalId=0,a.state={gameBoardWidth:1600,gameBoardHeight:900,cameraSize:1e3,playerPosition:{x:100,y:100},inkAmount:100,healthAmount:100,anouncement:["Nothing~~","thissss"],gameResult:{A:0,B:0}},a.props.socket.emit("enterGame",Object(d.a)({},a.playerData)),a.props.socket.on("updateGame",function(e){a.otherPlayerData=e.allPlayers.filter(function(e){return e.playerUid!==a.playerData.playerUid})}),a.props.socket.on("getGameTime",function(e){a.localPlayerData.gameTime=e.gameTime}),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this,t=this.localPlayerData.gameTime>0?this.localPlayerData.gameTime:0,a=[],o=0;o<this.state.anouncement.length;++o)a.push(n.a.createElement("text",{id:"anouncement",x:"50",y:40+30*o,width:"300",height:"200",key:o},this.state.anouncement[o]));var r="";return this.localPlayerData.gameState===g.FREEZE&&(r=n.a.createElement("div",{id:"timesUp"},n.a.createElement("h1",null,"Time's Up!"))),this.localPlayerData.gameState===g.GAMING||this.localPlayerData.gameState===g.FREEZE?n.a.createElement("div",{id:"game-container"},r,n.a.createElement("svg",{id:"svg-container",width:Math.max(window.innerWidth,window.innerHeight),height:Math.max(window.innerWidth,window.innerHeight),preserveAspectRatio:"xMidYMid slice",viewBox:[this.state.cameraSize/-2+this.state.playerPosition.x,this.state.cameraSize/-4+this.state.playerPosition.y,this.state.cameraSize,this.state.cameraSize]},n.a.createElement("foreignObject",{x:"0",y:"0",width:"10000",height:"10000"},n.a.createElement("canvas",{id:"groundLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.groundRef=t}}),n.a.createElement("canvas",{id:"splatLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.splatRef=t}}),n.a.createElement("canvas",{id:"splatAnimationLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.splatAnimationRef=t}}),n.a.createElement("canvas",{id:"fieldLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.fieldRef=t}}),n.a.createElement("canvas",{id:"playerLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.playerRef=t}}),n.a.createElement("canvas",{id:"itemLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.itemRef=t}}),n.a.createElement("canvas",{id:"bulletLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.bulletRef=t}}),n.a.createElement("canvas",{id:"aimPointLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.aimPointRef=t}}))),n.a.createElement("svg",{id:"info-container",x:"0",y:"0",width:window.innerWidth,height:window.innerHeight},n.a.createElement(dt,{inkColor:this.playerData.playerColor,inkAmount:this.localPlayerData.inkAmount}),n.a.createElement("text",{id:"timer",x:"600",y:"80",width:"300",height:"100",style:{fill:this.localPlayerData.timeColor}},t),n.a.createElement(ft,{hp:this.localPlayerData.playerHealth}),a)):(this.props.socket.disconnect(),this.props.socket.open(),n.a.createElement(h.a,{to:"/result/".concat(this.props.roomId)}))}}]),t}(n.a.Component),It=a(81),Pt=a.n(It),Nt=a(82),bt=a.n(Nt);a(128);var xt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).closeJumpOut=function(){console.log(a.state.show),a.setState({show:{display:"none"}})},a.state={show:a.props.display},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.display!==e.display&&this.setState({show:this.props.display})}},{key:"render",value:function(){return n.a.createElement("div",{style:this.state.show,className:"Jump-bg"},n.a.createElement("div",{className:"Jump-container"},n.a.createElement("button",{onClick:this.closeJumpOut,className:"Jump-closeButton"},"X"),n.a.createElement("h2",null,this.props.title),this.props.form.map(function(e){return function(e){return n.a.createElement("div",{className:"Jump-component",key:e},n.a.createElement("h3",null,e),n.a.createElement("input",null))}(e)}),n.a.createElement("button",{className:"App_button"},this.props.submit)))}}]),t}(o.Component),Dt=(a(129),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleInputName=function(e){""!==e.target.value&&a.props.setName(e.target.value),"Enter"===e.key&&a.handlePlay()},a.handlePlay=function(){a.props.socket.emit("newPlayer",{name:a.props.name}),a.props.socket.once("getFirstInInfo",function(e){a.props.setRoomId(e.roomId),a.props.setUid(e.uid),a.props.setTeam(e.team),a.props.setTeamColor(e.teamColor),a.props.history.push("/wait/".concat(a.props.roomId))})},a.state={login_display:{display:"none"},signup_display:{display:"none"}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"handleDisplay",value:function(e){"login"===e?this.setState({login_display:{display:"block"}}):"signup"===e&&this.setState({signup_display:{display:"block"}})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"Home_container"},n.a.createElement("button",{className:"App_button top-button",onClick:function(){return e.handleDisplay("signup")}},"Sign up"),n.a.createElement("button",{className:"App_button top-button",onClick:function(){return e.handleDisplay("login")}},"Log in"),n.a.createElement(xt,{display:this.state.login_display,title:"Log in",form:["id","pw"],submit:"Log in!"}),n.a.createElement(xt,{display:this.state.signup_display,title:"Sign up",form:["email","id","pw","pw again"],submit:"Sign up!"}),n.a.createElement("div",{className:"Home_main"},n.a.createElement("img",{src:bt.a}),n.a.createElement("input",{id:"Name",autoComplete:"off",spellCheck:"false",onKeyUp:this.handleInputName}),n.a.createElement("button",{className:"App_button",onClick:this.handlePlay},"Play!")),n.a.createElement("div",{className:"Home_mask"}),n.a.createElement("div",{id:"bg_wrapper"},n.a.createElement("img",{src:Pt.a,id:"bg_img"})))}}]),t}(o.Component)),At=(a(130),a(131),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"UserBlock-container"},n.a.createElement("img",{src:"A"===this.props.team?E.a:A.a,alt:this.props.userName}),n.a.createElement("h3",null,this.props.userName),n.a.createElement("h4",null,this.props.playerRecord||"guest"))}}]),t}(n.a.Component)),Ct=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleBack=function(){a.props.socket.disconnect(),a.props.socket.open(),a.props.history.push("/home"),a.props.setName()},a.state={teamA:[],teamB:[],isRoomFull:[],teamAColor:Ve[a.props.teamColor.A].shadow,teamBColor:Ve[a.props.teamColor.B].shadow,waitingMessage:""},a.props.socket.emit("getRoomPlayers",{roomId:a.props.roomId}),a.props.socket.on("getRoomPlayers",function(e){var t=e.maxPlayers-e.teamA.length-e.teamB.length;t<0&&(t=0),a.setState({teamA:e.teamA.map(function(e){return e.name}),teamB:e.teamB.map(function(e){return e.name}),isRoomFull:e.isRoomFull,maxPlayers:e.maxPlayers,waitingMessage:"waiting for ".concat(t," more players to join...")})}),a.props.socket.on("getWaitTime",function(e){a.setState({waitTime:e.waitTime,waitingMessage:"left ".concat(e.waitTime," seconds to begin...")}),e.waitTime<=0&&a.props.socket.off("getWaitTime")}),a.props.socket.once("startGaming",function(){a.props.history.push("/game/".concat(a.props.roomId))}),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.teamA.map(function(e){return n.a.createElement("li",{key:e},n.a.createElement(At,{userName:e,playerRecord:"",team:"A"}))}),t=this.state.teamB.map(function(e){return n.a.createElement("li",{key:e},n.a.createElement(At,{userName:e,playerRecord:"",team:"B"}))});return n.a.createElement("div",{className:"Wait_container"},n.a.createElement("h1",null,"Game Lobby"),n.a.createElement("h3",{id:"Wait_message"},this.state.waitingMessage),n.a.createElement("div",{id:"Wait_wrapper"},n.a.createElement("div",{className:"Wait_group",style:{background:this.state.teamAColor}},n.a.createElement("h3",{className:"Wait_grouptitle"},"TEAM A"),n.a.createElement("ul",null,e)),n.a.createElement("div",{className:"Wait_group",style:{background:this.state.teamBColor}},n.a.createElement("h3",null,"TEAM B"),n.a.createElement("ul",null,t))),n.a.createElement("div",{id:"Wait_button"},n.a.createElement("button",{className:"App_button",onClick:this.handleBack},"Back")))}}]),t}(o.Component),Tt=(a(132),a(83)),Wt=a.n(Tt),_t=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleOK=function(){a.props.history.push("/home")},a.state={teamAColor:Ve[1],teamBColor:Ve[2],teamAarea:1234,teamBarea:1998},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={fill:this.state.teamAColor.main,filter:"drop-shadow(0px 0px 5px "+this.state.teamAColor.glow+")"},t={fill:this.state.teamBColor.main,filter:"drop-shadow(0px 0px 5px "+this.state.teamBColor.glow+")"},a=this.state.teamAarea/(this.state.teamAarea+this.state.teamBarea),o=parseInt(1e3*a)/10;return n.a.createElement("div",{className:"Result-container"},n.a.createElement("h1",null,"Result"),n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("h2",null,"Team A"),n.a.createElement("h3",null,o,"%")),n.a.createElement("div",null,n.a.createElement("h2",null,"Team B"),n.a.createElement("h3",null,100-o,"%"))),n.a.createElement("div",null,n.a.createElement("svg",{width:"1200",height:"100",x:"200",y:"200"},n.a.createElement("rect",{className:"inkBar",x:"40",y:"20",width:1120*a,height:"60",style:e}),n.a.createElement("rect",{className:"inkBar",x:40+1120*a+5,y:"20",width:1120*(1-a),height:"60",style:t}),n.a.createElement("rect",{className:"inkBar",x:40+1120*a,y:"20",width:"5",height:"60",style:{fill:"#FFFFFF"}}),n.a.createElement("image",{href:Wt.a,width:"1200",height:"100"}))),n.a.createElement("div",null),n.a.createElement("button",{className:"App_button",onClick:this.handleOK},"OK!"))}}]),t}(o.Component),Gt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).changeStatus={setRoomId:function(e){a.setState({roomId:e})},setName:function(e){e?a.setState({name:e}):a.setState({name:"Player"})},setUid:function(e){a.setState({uid:e})},setTeam:function(e){a.setState({team:e})},setTeamColor:function(e){a.setState({teamColor:e})}},a.socket=y()("http://localhost:8080"),a.state={roomId:null,name:"Player",uid:null,team:null,teamColor:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(h.d,null,n.a.createElement(h.b,{exact:!0,path:"/",render:function(){return n.a.createElement(h.a,{to:"/home"})}}),n.a.createElement(h.b,{path:"/home",render:function(t){return n.a.createElement(Dt,Object.assign({},t,e.state,e.changeStatus,{socket:e.socket}))}}),n.a.createElement(h.b,{path:"/wait/".concat(this.state.roomId),render:function(t){return n.a.createElement(Ct,Object.assign({},t,e.state,{socket:e.socket,setName:e.changeStatus.setName}))}}),n.a.createElement(h.b,{path:"/game/".concat(this.state.roomId),render:function(t){return n.a.createElement(kt,Object.assign({},t,e.state,{socket:e.socket}))}}),n.a.createElement(h.b,{path:"/result/".concat(this.state.roomId),render:function(t){return n.a.createElement(_t,Object.assign({},t,e.state,{socket:e.socket}))}}))}}]),t}(o.Component),Ot=a(32);var Rt=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(Ot.a,null,n.a.createElement(Gt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(Rt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[85,1,2]]]);
//# sourceMappingURL=main.10f73c79.chunk.js.map