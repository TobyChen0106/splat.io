(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t){e.exports=function(e,t,a){this.main=e,this.glow=t,this.shadow=a}},,,,,,function(e,t,a){e.exports=a.p+"static/media/p-02-01.b5ec01fc.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/p-02-02.f330f628.svg"},function(e,t,a){e.exports=a.p+"static/media/p-02-03.79be4eef.svg"},function(e,t,a){e.exports=a.p+"static/media/p-03.9aeccb4c.svg"},function(e,t,a){e.exports=a.p+"static/media/p-02-04.202b81c3.svg"},function(e,t,a){e.exports=a.p+"static/media/inkHit06.06b2c837.wav"},function(e,t,a){e.exports=a.p+"static/media/n-01.82115044.svg"},function(e,t,a){e.exports=a.p+"static/media/n-02.c2046824.svg"},function(e,t,a){e.exports=a.p+"static/media/n-03.9254177c.svg"},function(e,t,a){e.exports=a.p+"static/media/HitEffectiveCommon02.bb9ea272.wav"},function(e,t,a){e.exports=a.p+"static/media/BulletHitNoDamage.6e0d3ed4.wav"},function(e,t,a){e.exports=a.p+"static/media/inkBar.4467d4bf.svg"},,,,,,,function(e,t,a){e.exports=a.p+"static/media/temp.2b31b498.gif"},function(e,t,a){e.exports=a.p+"static/media/logo.2c0aea0e.png"},,function(e,t,a){e.exports=a(116)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/rock1.93f6c61e.svg"},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(46),i=a.n(o),s=(a(72),a(73),a(66)),l=a(3),c=a(4),p=a(6),h=a(5),m=a(7),u=(a(74),{WAITING:1,GAMING:2,FREEZE:3,FINISH:4}),y={STANDING_OWN:0,WALKING_OWN:1,DIVING_OWN:2,SWIMMING_OWN:3,ATTACKING_OWN:4,STANDING_SPACE:5,WALKING_SPACE:6,DIVING_SPACE:7,SWIMMING_SPACE:8,ATTACKING_SPACE:9,STANDING_ENEMY:10,WALKING_ENEMY:11,DIVING_ENEMY:12,SWIMMING_ENEMY:13,ATTACKING_ENEMY:14},d=a(21),f=a.n(d),g=a(47),M=a.n(g),v=a(48),S=a.n(v),k=a(49),I=a.n(k),N=a(50),E=a.n(N),w=new Image,P=new Image,b=new Image,A=new Image,D=new Image,x=[],W={x:-1e3,y:-1e3},_=function(e,t,a){var r=e.getContext("2d");switch(a.playerStatus){case y.STANDING_OWN:case y.WALKING_OWN:T(r,a);break;case y.DIVING_OWN:case y.SWIMMING_OWN:C(r,a);break;case y.ATTACKING_OWN:case y.STANDING_SPACE:case y.WALKING_SPACE:case y.DIVING_SPACE:case y.SWIMMING_SPACE:case y.ATTACKING_SPACE:case y.STANDING_ENEMY:case y.WALKING_ENEMY:T(r,a);break;case y.DIVING_ENEMY:case y.SWIMMING_ENEMY:break;case y.ATTACKING_ENEMY:T(r,a)}var n=t.getContext("2d");!(Math.abs(a.playerPosition.x-W.x)>50||Math.abs(a.playerPosition.y-W.y)>50)||a.playerStatus!==y.WALKING_OWN&&a.playerStatus!==y.SWIMMING_OWN&&a.playerStatus!==y.WALKING_ENEMY&&a.playerStatus!==y.SWIMMING_ENEMY||(x.push([a.playerPosition.x,a.playerPosition.y,20,300]),W.x=a.playerPosition.x,W.y=a.playerPosition.y),n.clearRect(0,0,t.width,t.height);for(var o=0;o<x.length;++o)x[o][2]+=.5,G(n,x[o][0],x[o][1],x[o][2],20),x[o][2]-10>0&&O(n,x[o][0],x[o][1],x[o][2]-10,20),x[o][2]-20>0&&R(n,x[o][0],x[o][1],x[o][2]-20,20),x[o][2]>=x[o][3]&&(x.splice(o,1),--o)},T=function(e,t){var a=t.playerName,r=t.playerColor,n=t.playerPosition,o=t.playerAngle;t.playerStatus;e.save(),e.translate(n.x,n.y),e.font="bold 12pt Freckle Face";var i=e.measureText(a).width;e.strokeStyle="#FFFFFF",e.lineWidth=3,e.strokeText(a,-i/2,50),e.fillStyle=r,e.font="bold 12pt Freckle Face",e.fillText(a,-i/2,50),e.restore(),w.src=f.a,P.src=M.a,b.src=S.a,A.src=I.a,e.translate(n.x,n.y),e.rotate(Math.PI/180*(o+180)),e.drawImage(w,-35,-37,65,65),e.drawImage(P,-35,-2,50,50),e.drawImage(A,-25,3,50,50),e.drawImage(b,-15,-2,50,50),e.rotate(-Math.PI/180*(o+180)),e.translate(-n.x,-n.y)},C=function(e,t){var a=t.playerName,r=t.playerColor,n=t.playerPosition;t.playerAngle,t.playerStatus;e.save(),e.translate(n.x,n.y),e.font="bold 10pt Freckle Face";var o=e.measureText(a).width;e.strokeStyle="#FFFFFF",e.lineWidth=3,e.strokeText(a,-o/2,50),e.fillStyle=r,e.font="bold 10pt Freckle Face",e.fillText(a,-o/2,50),e.restore(),D.src=E.a,e.translate(n.x,n.y),e.drawImage(D,-35,-13,65,65),e.translate(-n.x,-n.y)},G=function(e,t,a,r,n){var o=0,i=0,s=0;e.save(),e.beginPath();for(var l=0;l<n;l++)o=l/n*2*Math.PI,i=t+r*Math.sin(o),s=a+r*Math.cos(o),e.lineTo(i,s);e.closePath(),e.lineWidth=3,e.strokeStyle="rgba(230,230,230,"+Math.max(0,40-r)/100+")",e.stroke(),e.restore()},O=function(e,t,a,r,n){var o=0,i=0,s=0;e.save(),e.beginPath();for(var l=0;l<n;l++)o=l/n*2*Math.PI,i=t+r*Math.sin(o),s=a+r*Math.cos(o),e.lineTo(i,s);e.closePath(),e.lineWidth=2,e.strokeStyle="rgba(220,220,220,"+Math.max(0,26-r)/100+")",e.stroke(),e.restore()},R=function(e,t,a,r,n){var o=0,i=0,s=0;e.save(),e.beginPath();for(var l=0;l<n;l++)o=l/n*2*Math.PI,i=t+r*Math.sin(o),s=a+r*Math.cos(o),e.lineTo(i,s);e.closePath(),e.lineWidth=1,e.strokeStyle="rgba(200,200,200,"+Math.max(0,22-r)/100+")",e.stroke(),e.restore()},j={fieldRange:{xMin:50,xMax:1550,yMin:50,yMax:850},rectObjects:[["rock",500,500,100,200],["rock",1e3,500,100,200],["rock",500,50,100,200],["rock",1e3,50,100,200],["rock",650,400,300,100],["rock",750,300,100,300],["rock",500,500,100,200],["rock",1e3,500,100,200],["rock",500,50,100,200],["rock",1e3,50,100,200],["rock",650,400,300,100],["rock",750,300,100,300],["rock",500,500,100,200],["rock",1e3,500,100,200],["rock",500,50,100,200],["rock",1e3,50,100,200],["rock",650,400,300,100],["rock",750,300,100,300],["rock",500,500,100,200],["rock",1e3,500,100,200],["rock",500,50,100,200],["rock",1e3,50,100,200],["rock",650,400,300,100],["rock",750,300,100,300],["rock",500,500,100,200],["rock",1e3,500,100,200],["rock",500,50,100,200],["rock",1e3,50,100,200],["rock",650,400,300,100],["rock",750,300,100,300]],polyObjects:[]},B=(a(75),function(e){var t=j,a=t.rectObjects,r=t.fieldRange.xMin,n=t.fieldRange.yMin,o=t.fieldRange.xMax,i=t.fieldRange.yMax,s=e.getContext("2d");s.save(),s.shadowBlur=3,s.shadowColor="rgba(63, 255, 239, 0.555)",s.shadowOffsetX=0,s.shadowOffsetY=0;var l=K(r,n,o-r,i-n,30);s.strokeStyle="#525C63",s.lineWidth=8,s.stroke(l);l=K(r-6,n-6,o-r+12,i-n+12,30);s.strokeStyle="#3B4349",s.lineWidth=8,s.stroke(l);for(var c=0;c<a.length;++c){a[c][1],a[c][2],a[c][3],a[c][4];switch(a[c][0]){case"rock":s.fillStyle="#525C63";var p=K(a[c][1],a[c][2],a[c][3],a[c][4],5);s.fill(p),s.fillStyle="#3B4349",p=K(a[c][1]+8,a[c][2]+8,a[c][3]-16,a[c][4]-16,5),s.fill(p),s.fillStyle="#21292D",p=K(a[c][1]+20,a[c][2]+20,a[c][3]-40,a[c][4]-40,5),s.fill(p)}}a=t.polyObjects;for(c=0;c<a.length;++c)switch(a[c][0]){case"rock":s.fillStyle="#525C63";p=L(a[c]);s.fill(p)}s.restore()});function K(e,t,a,r,n){var o=new Path2D;return o.moveTo(e+n,t),o.lineTo(e+a-n,t),o.arc(e+a-n,t+n,n,Math.PI/180*270,0,!1),o.lineTo(e+a,t+r-n),o.arc(e+a-n,t+r-n,n,0,Math.PI/180*90,0,!1),o.lineTo(e+n,t+r),o.arc(e+n,t+r-n,n,Math.PI/180*90,Math.PI/180*180,!1),o.lineTo(e,t+n),o.arc(e+n,t+n,n,Math.PI/180*180,Math.PI/180*270,!1),o}function L(e){var t=new Path2D,a=e.length;t.moveTo(e[a-1][0],e[a-1][1]);for(var r=1;r<a;r++)t.lineTo(e[r][0],e[r][1]);return t}var F=a(51),Y=a.n(F),H=a(52),U=a.n(H),V=a(53),z=a.n(V),J=a(54),Z=a.n(J),X=[U.a,z.a,Z.a],$=[],q=new Audio(Y.a);q.volume=.5;var Q=function(e,t,a,r,n,o){var i=e.getContext("2d"),s=t.getContext("2d");i.save();for(var l=0;l<a.length;++l){var c=a[l][1],p=a[l][2],h=(o.x,o.y,a[l][3]),m=3*a[l][4],u=new Image;u.src=X[a[l][0]],u.onload=function(){i.translate(c,p),i.rotate(h/180*Math.PI),i.drawImage(u,-m/2,-m/2,m,m),i.rotate(-h/180*Math.PI),i.translate(-c,-p)},q.currentTime=0,q.play(),$.push([c,p,1,m])}i.restore();for(var y=0;y<$.length;++y)$[y][2]+=2,ee(s,$[y][0],$[y][1],$[y][2],20),$[y][2]-10>0&&te(s,$[y][0],$[y][1],$[y][2]-10,20),$[y][2]-20>0&&ae(s,$[y][0],$[y][1],$[y][2]-20,20),$[y][2]>=$[y][3]&&($.splice(y,1),--y)},ee=function(e,t,a,r,n){var o=0,i=0,s=0;e.save(),e.beginPath();for(var l=0;l<n;l++)o=l/n*2*Math.PI,i=t+r*Math.sin(o),s=a+r*Math.cos(o),e.lineTo(i,s);e.closePath(),e.lineWidth=3,e.strokeStyle="rgba(230,230,230,"+Math.max(0,30-r)/100+")",e.stroke(),e.restore()},te=function(e,t,a,r,n){var o=0,i=0,s=0;e.save(),e.beginPath();for(var l=0;l<n;l++)o=l/n*2*Math.PI,i=t+r*Math.sin(o),s=a+r*Math.cos(o),e.lineTo(i,s);e.closePath(),e.lineWidth=2,e.strokeStyle="rgba(220,220,220,"+Math.max(0,20-r)/100+")",e.stroke(),e.restore()},ae=function(e,t,a,r,n){var o=0,i=0,s=0;e.save(),e.beginPath();for(var l=0;l<n;l++)o=l/n*2*Math.PI,i=t+r*Math.sin(o),s=a+r*Math.cos(o),e.lineTo(i,s);e.closePath(),e.lineWidth=1,e.strokeStyle="rgba(200,200,200,"+Math.max(0,10-r)/100+")",e.stroke(),e.restore()},re=function(e,t,a,r,n){var o=e.getContext("2d");o.clearRect(0,0,e.width,e.height),o.save(),oe(o,a.x,a.y,r),ne(o,n),o.restore()},ne=function(e,t){e.save();for(var a=0;a<t.length;++a){var r=0,n=0,o=0;e.beginPath();for(var i=0;i<20;i++)r=i/20*2*Math.PI,n=t[a][0]+10*Math.sin(r),o=t[a][1]+10*Math.cos(r),e.lineTo(n,o);for(e.closePath(),e.strokeStyle="#b3198c88",e.lineWidth=3,e.stroke(),e.beginPath(),i=0;i<20;i++)r=i/20*2*Math.PI,n=t[a][0]+7*Math.sin(r),o=t[a][1]+7*Math.cos(r),e.lineTo(n,o);e.closePath(),e.strokeStyle="#77777755",e.lineWidth=2,e.stroke()}e.restore()},oe=function(e,t,a,r){var n=0,o=0,i=0;e.save(),e.translate(t,a),e.save(),e.rotate(-Math.PI/180*r),e.beginPath();for(var s=0;s<20;s++)n=s/20*2*Math.PI,o=15*Math.sin(n),i=15*Math.cos(n),e.lineTo(o,i);e.closePath(),e.strokeStyle="#77777755",e.lineWidth=3,e.stroke(),e.beginPath();for(s=0;s<20;s++)n=s/20*2*Math.PI,o=9*Math.sin(n),i=9*Math.cos(n),e.lineTo(o,i);e.closePath(),e.strokeStyle="#77777755",e.lineWidth=1.5,e.stroke(),e.beginPath(),e.moveTo(0,-9),e.lineTo(0,-22),e.moveTo(0,9),e.lineTo(0,22),e.moveTo(-9,0),e.lineTo(-22,0),e.moveTo(9,0),e.lineTo(22,0),e.closePath(),e.lineWidth=3,e.stroke(),e.restore(),e.restore()},ie=function(e,t,a){var r=e.getContext("2d");r.save();for(var n=0;n<t.length;++n)r.fillStyle=a.main,se(r,t[n][1],t[n][2],8,10),le(r,t[n][1],t[n][2],8,10);r.restore()},se=function(e,t,a,r,n){var o=0,i=0,s=0;e.beginPath();for(var l=0;l<n;l++)o=l/n*2*Math.PI,i=t+r*Math.sin(o),s=a+r*Math.cos(o),e.lineTo(i,s);e.closePath(),e.fill()},le=function(e,t,a,r,n){var o=0,i=0,s=0;e.beginPath();for(var l=0;l<n;l++)o=l/n*2*Math.PI,i=t+r*Math.sin(o),s=a+r*Math.cos(o),e.lineTo(i,s);e.closePath(),e.lineWidth=3,e.strokeStyle="#55555533",e.stroke()},ce=function(e,t,a,r,n){t.getContext("2d").clearRect(0,0,t.width,t.height),a.getContext("2d").clearRect(0,0,a.width,a.height),r.getContext("2d").clearRect(0,0,r.width,r.height);for(var o=0;o<n.length;++o)_(a,r,n[o]),Q(e,r,n[o].splats,n[o].playerColor,n[o].playerAngle,n[o].playerPosition),ie(t,n[o].bullets,n[o].playerColor)},pe=a(15),he=a.n(pe),me=[new he.a("#ff1493","#e72dc2","#d467a5"),new he.a("#02fffc","#44afec","#84d1e4"),new he.a("#25ff5d","#44ec6b","#82db8a"),new he.a("#866aff","#8744ec","#c793e5")],ue={splatterShot_v1:{main:{type:0,maxShootDistance:400,bulletSpeed:30,fireSpeed:200,fireInkCost:5,maxError:20,gunLength:25,splatSize:50,splatDamage:30,splatShapeId:[0,1,2]},sub:{},price:1e3}},ye=a(9),de=function(e,t){switch(e.key){case"w":case"W":case"ArrowUp":t.playerMoveDirection.y=-1,t.keyStrokeState.up=1;break;case"s":case"S":case"ArrowDown":t.playerMoveDirection.y=1,t.keyStrokeState.down=1;break;case"a":case"A":case"ArrowLeft":t.playerMoveDirection.x=-1,t.keyStrokeState.left=1;break;case"d":case"D":case"ArrowRight":t.playerMoveDirection.x=1,t.keyStrokeState.right=1;break;case" ":t.keyStrokeState.space=1}},fe=function(e,t){switch(e.key){case"w":case"W":case"ArrowUp":1===t.keyStrokeState.down?t.playerMoveDirection.y=1:t.playerMoveDirection.y=0,t.keyStrokeState.up=0;break;case"s":case"S":case"ArrowDown":1===t.keyStrokeState.up?t.playerMoveDirection.y=-1:t.playerMoveDirection.y=0,t.keyStrokeState.down=0;break;case"a":case"A":case"ArrowLeft":1===t.keyStrokeState.right?t.playerMoveDirection.x=1:t.playerMoveDirection.x=0,t.keyStrokeState.left=0;break;case"d":case"D":case"ArrowRight":1===t.keyStrokeState.left?t.playerMoveDirection.x=-1:t.playerMoveDirection.x=0,t.keyStrokeState.right=0;break;case" ":t.keyStrokeState.space=0}},ge=function(e,t){t.mouseClient.x=e.clientX,t.mouseClient.y=e.clientY},Me=function(e,t,a,r){var n=0;r-t>=0&&(n=180);var o=(a-e)/(r-t);return-1*ve(Math.atan(o))+n},ve=function(e){return 180*e/Math.PI},Se=function(e,t){var a=j,r=a.rectObjects;if(t.gameState===u.GAMING){var n=e.playerPosition.x,o=e.playerPosition.y,i=t.playerMoveSpeed,s=t.playerMoveDirection.x,l=t.playerMoveDirection.y;0!==s&&0!==l&&(i/=1.414);var c=n+s*i,p=o+l*i;c=Math.min(Math.max(c,a.fieldRange.xMin+25),a.fieldRange.xMax-25),p=Math.min(Math.max(p,a.fieldRange.yMin+25),a.fieldRange.yMax-25);for(var h=0;h<r.length;++h){var m=r[h][1]+r[h][3]/2,y=r[h][2]+r[h][4]/2;if(Math.abs(c-m)<(r[h][3]+50)/2&&Math.abs(p-y)<(r[h][4]+50)/2){var d=n<m?m-(r[h][3]+50)/2:m+(r[h][3]+50)/2,f=o<y?y-(r[h][4]+50)/2:y+(r[h][4]+50)/2;Math.abs(d-n)<Math.abs(f-o)?c=d:Math.abs(d-n)>Math.abs(f-o)?p=f:(c=d,p=f)}}return e.playerPosition.x=c,e.playerPosition.y=p,e.playerPosition}},ke=a(55),Ie=a.n(ke),Ne=a(56),Ee=a.n(Ne),we=new Audio(Ie.a);we.volume=.5;var Pe=new Audio(Ee.a);Pe.volume=.5;var be=[],Ae=0,De=function(e,t,a){var r=e.playerAngle,n=e.playerPosition.x,o=e.playerPosition.y,i=t.mousePosition.x,s=t.mousePosition.y,l=[],c=[],p=[],h=0;if(t.gameState===u.GAMING)switch(e.playerWeapon.main.type){case 0:var m,y,d=e.playerWeapon.main.maxShootDistance,f=e.playerWeapon.main.bulletSpeed,g=e.playerWeapon.main.fireSpeed,M=e.playerWeapon.main.fireInkCost,v=e.playerWeapon.main.maxError,S=e.playerWeapon.main.gunLength,k=Math.pow(Math.pow(i-n,2)+Math.pow(s-o,2),.5),I=Math.min(k,d),N=n+Math.sin(r/180*Math.PI)*I,E=o-Math.cos(r/180*Math.PI)*I,w=Ce(n,o,N,E),P=Ge(n,o,w[0],w[1],a);m=P[0],y=P[1],c.push([m,y]),N=n+Math.sin(r/180*Math.PI)*I+2*(Math.random()-.5)*v,E=o-Math.cos(r/180*Math.PI)*I+2*(Math.random()-.5)*v;var b,A,D=n+Math.sin(r/180*Math.PI)*S,x=o-Math.cos(r/180*Math.PI)*S,W=Ce(D,x,N,E),_=Ge(D,x,W[0],W[1],a);b=_[0],A=_[1];var T=Math.pow(Math.pow(b-D,2)+Math.pow(A-x,2),.5);0===t.keyStrokeState.space&&1===t.mouseDownState&&t.timeStamp-Ae>g&&(Ae=t.timeStamp,t.inkAmount-M>=0?(h=M,be.push([0,D,x,b,A,(b-D)/T*f,(A-x)/T*f]),we.currentTime=0,we.play()):(Pe.currentTime=0,Pe.play()))}for(var C=0;C<be.length;++C)if(be[C][1]+=be[C][5],be[C][2]+=be[C][6],p.push([0,be[C][1],be[C][2]]),Math.abs(be[C][1]-be[C][3])<Math.abs(be[C][5])||Math.abs(be[C][2]-be[C][4])<Math.abs(be[C][6])){var G=2*(Math.random()-.5)*Math.PI,O=e.playerWeapon.main.splatSize,R=e.playerWeapon.main.splatDamage,j=e.playerWeapon.main.splatShapeId[Math.floor(Math.random()*e.playerWeapon.main.splatShapeId.length)];l.push([j,be[C][3],be[C][4],G,O,R]),be.splice(C,1),--C}else;return e.bullets=p,e.splats=l,[c,h]};var xe=function(e,t,a){for(var r=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}(t.playerColor.main),n=e.getContext("2d").getImageData(t.playerPosition.x-25,t.playerPosition.y-25,51,51).data,o=0,i=0,s=0;s<11;++s)for(var l=0;l<11;++l)0!==n[4*(51*s*5+5*l)+3]?n[4*(51*s*5+5*l)]===r[0]&&n[4*(51*s*5+5*l)+1]===r[1]&&n[4*(51*s*5+5*l)+2]===r[2]&&(o+=1):i+=1;var c=0;switch(i/121<.5&&(c=o<121-o-i?1:2),c){case 0:1===a.mouseDownState?t.playerStatus=y.ATTACKING_SPACE:0===a.keyStrokeState.space?0===a.playerMoveDirection.x&&0===a.playerMoveDirection.y?t.playerStatus=y.STANDING_SPACE:t.playerStatus=y.WALKING_SPACE:0===a.playerMoveDirection.x&&0===a.playerMoveDirection.y?t.playerStatus=y.DIVING_SPACE:t.playerStatus=y.SWIMMING_SPACE;break;case 1:1===a.mouseDownState?t.playerStatus=y.ATTACKING_ENEMY:0===a.keyStrokeState.space?0===a.playerMoveDirection.x&&0===a.playerMoveDirection.y?t.playerStatus=y.STANDING_ENEMY:t.playerStatus=y.WALKING_ENEMY:0===a.playerMoveDirection.x&&0===a.playerMoveDirection.y?t.playerStatus=y.DIVING_ENEMY:t.playerStatus=y.SWIMMING_ENEMY;break;case 2:1===a.mouseDownState?t.playerStatus=y.ATTACKING_OWN:0===a.keyStrokeState.space?0===a.playerMoveDirection.x&&0===a.playerMoveDirection.y?t.playerStatus=y.STANDING_OWN:t.playerStatus=y.WALKING_OWN:0===a.playerMoveDirection.x&&0===a.playerMoveDirection.y?t.playerStatus=y.DIVING_OWN:t.playerStatus=y.SWIMMING_OWN}},We=function(e,t){switch(e.playerStatus){case y.STANDING_OWN:case y.WALKING_OWN:t.playerMoveSpeed=4;break;case y.DIVING_OWN:case y.SWIMMING_OWN:t.playerMoveSpeed=6;break;case y.ATTACKING_OWN:t.playerMoveSpeed=2.5;break;case y.STANDING_SPACE:case y.WALKING_SPACE:t.playerMoveSpeed=3;break;case y.DIVING_SPACE:case y.SWIMMING_SPACE:case y.ATTACKING_SPACE:t.playerMoveSpeed=1;break;case y.STANDING_ENEMY:case y.WALKING_ENEMY:case y.DIVING_ENEMY:case y.SWIMMING_ENEMY:t.playerMoveSpeed=1.5;break;case y.ATTACKING_ENEMY:t.playerMoveSpeed=.5;break;default:t.playerMoveSpeed=4}switch(e.gameState){case u.FREEZE:case u.FINISH:t.playerMoveSpeed=0}},_e=function(e,t,a){var r=a.inkAmount;r-=e;var n=0;switch(t.playerStatus){case y.STANDING_OWN:case y.WALKING_OWN:n=.1;break;case y.DIVING_OWN:n=.5;break;case y.SWIMMING_OWN:n=1;break;case y.ATTACKING_OWN:case y.STANDING_SPACE:case y.WALKING_SPACE:case y.DIVING_SPACE:case y.SWIMMING_SPACE:case y.ATTACKING_SPACE:case y.STANDING_ENEMY:case y.WALKING_ENEMY:case y.DIVING_ENEMY:case y.SWIMMING_ENEMY:case y.ATTACKING_ENEMY:n=.1;break;default:n=0}return r+=n,r=Math.max(Math.min(r,100),0),a.inkAmount=r,r},Te=function(e,t,a,r,n,o,i,s){if(e===a&&t===r||n===i&&o===s)return!1;var l=(s-o)*(a-e)-(i-n)*(r-t);if(0===l)return!1;var c=((i-n)*(t-o)-(s-o)*(e-n))/l,p=((a-e)*(t-o)-(r-t)*(e-n))/l;return!(c<0||c>1||p<0||p>1)&&{x:e+c*(a-e),y:t+c*(r-t)}},Ce=function(e,t,a,r){for(var n,o=j,i=a,s=r,l=Math.pow(Math.pow(i-e,2)+Math.pow(s-t,2),.5),c=o.rectObjects,p=0;p<c.length;++p){var h=c[p][1],m=c[p][2],u=c[p][1]+c[p][3],y=c[p][2]+c[p][4];(M=[]).push(Te(e,t,i,s,h,m,h,y)),M.push(Te(e,t,i,s,h,m,u,m)),M.push(Te(e,t,i,s,u,m,u,y)),M.push(Te(e,t,i,s,h,y,u,y));for(var d=0;d<M.length;++d)!1!==M[d]&&(n=Math.pow(Math.pow(M[d].x-e,2)+Math.pow(M[d].y-t,2),.5))<l&&(l=n,i=M[d].x,s=M[d].y)}c=o.polyObjects;for(p=0;p<c.length;++p){var f,g=c[p].length;for(d=1;d<g;++d)d===g-1?!1!==(f=Te(e,t,i,s,c[p][d][0],c[p][d][1],c[p][1][0],c[p][1][1]))&&(n=Math.pow(Math.pow(f.x-e,2)+Math.pow(f.y-t,2),.5))<l&&(l=n,i=f.x,s=f.y):!1!==(f=Te(e,t,i,s,c[p][d][0],c[p][d][1],c[p][d+1][0],c[p][d+1][1]))&&(n=Math.pow(Math.pow(f.x-e,2)+Math.pow(f.y-t,2),.5))<l&&(l=n,i=f.x,s=f.y)}var M,v=o.fieldRange.xMin,S=o.fieldRange.yMin,k=o.fieldRange.xMax,I=o.fieldRange.yMax;(M=[]).push(Te(e,t,i,s,v,S,v,I)),M.push(Te(e,t,i,s,v,S,k,S)),M.push(Te(e,t,i,s,k,S,k,I)),M.push(Te(e,t,i,s,v,I,k,I));for(d=0;d<M.length;++d)if(!1!==M[d]){var N=Math.pow(Math.pow(M[d].x-e,2)+Math.pow(M[d].y-t,2),.5);N<l&&(l=N,i=M[d].x,s=M[d].y)}return[i,s]},Ge=function(e,t,a,r,n){for(var o=0;o<n.length;++o){var i=n[o].x-25,s=n[o].x-25,l=n[o].y+25,c=n[o].y+25,p=[];p.push(Te(e,t,a,r,i,s,i,c)),p.push(Te(e,t,a,r,i,s,l,s)),p.push(Te(e,t,a,r,l,s,l,c)),p.push(Te(e,t,a,r,i,c,l,c));for(var h=1e4,m=0;m<p.length;++m)if(!1!==p[m]){var u=Math.pow(Math.pow(p[m].x-e,2)+Math.pow(p[m].y-t,2),.5);u<h&&(h=u,a=p[m].x,r=p[m].y)}}return[a,r]},Oe=(a(76),a(57)),Re=a.n(Oe),je=(a(117),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={inkColor:a.hexToRgb(a.props.inkColor.main),inkAmount:a.props.inkAmount,inkBarPosition:{x:window.innerWidth-80,y:window.innerHeight-400}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"hexToRgb",value:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}},{key:"render",value:function(){var e={fill:"rgba("+this.state.inkColor+")",stroke:"none"};return n.a.createElement("g",null,n.a.createElement("rect",{className:"inkBar",x:this.state.inkBarPosition.x,y:this.state.inkBarPosition.y+3.4*(100-this.props.inkAmount),width:"50",height:3.4*this.props.inkAmount,style:e}),n.a.createElement("svg",{width:"1000",height:"1000",style:e,x:this.state.inkBarPosition.x-10,y:this.state.inkBarPosition.y-330},n.a.createElement("image",{href:Re.a,width:"70",height:"1000",style:e})))}}]),t}(n.a.Component)),Be=180,Ke=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).onKeyDown=function(e){de(e,a.localPlayerData)},a.onKeyUp=function(e){fe(e,a.localPlayerData)},a.trackMouse=function(e){ge(e,a.localPlayerData)},a.mouseDown=function(e){a.localPlayerData.mouseDownState=1},a.mouseUp=function(e){a.localPlayerData.mouseDownState=0},a.updateGame=function(){if(a.localPlayerData.gameState===u.GAMING||a.localPlayerData.gameState===u.FREEZE){a.otherPlayerData=[a.playerData_2,a.playerData_3];var e=window.innerHeight,t=window.innerWidth;a.mouseScale=t>e?a.state.cameraSize/t:a.state.cameraSize/e;var r=a.groundRef.getBoundingClientRect();a.localPlayerData.mousePosition={x:(a.localPlayerData.mouseClient.x-r.left)*a.mouseScale,y:(a.localPlayerData.mouseClient.y-r.top)*a.mouseScale},a.playerData.playerAngle=Me(a.playerData.playerPosition.x,a.playerData.playerPosition.y,a.localPlayerData.mousePosition.x,a.localPlayerData.mousePosition.y),xe(a.splatRef,a.playerData,a.localPlayerData),We(a.playerData,a.localPlayerData);var n=Se(a.playerData,a.localPlayerData);if(a.localPlayerData.gameState===u.FREEZE){var o=a.state.gameBoardWidth,i=a.state.gameBoardHeight;a.setState({cameraSize:o>i?o:i}),a.setState({playerPosition:{x:o/2,y:i/2}})}else a.setState({playerPosition:n});for(var l=[],c=0;c<a.otherPlayerData.length;++c)l.push(a.otherPlayerData[c].playerPosition);var p=De(a.playerData,a.localPlayerData,l),h=Object(s.a)(p,2),m=h[0],y=h[1],d=_e(y,a.playerData,a.localPlayerData);a.setState({inkAmount:d}),a.otherPlayerData.push(a.playerData),ce(a.splatRef,a.bulletRef,a.playerRef,a.splatAnimationRef,a.otherPlayerData),re(a.aimPointRef,a.playerData.playerPosition,a.localPlayerData.mousePosition,a.playerData.playerAngle,m)}else a.setState({cameraSize:2e3});var f=Be-parseInt((Date.now()-a.localPlayerData.initTime)/1e3);a.localPlayerData.timeStamp=Date.now(),a.localPlayerData.gameRemainTime=f,f<10&&(a.localPlayerData.timeColor="#ff1493"),f<=-1&&(a.localPlayerData.gameState=u.FREEZE,f<=-5&&(a.localPlayerData.gameState=u.FINISH))},a.componentDidMount=function(){window.addEventListener("keyup",a.onKeyUp),window.addEventListener("keydown",a.onKeyDown),window.addEventListener("mousemove",a.trackMouse),window.addEventListener("mousedown",a.mouseDown),window.addEventListener("mouseup",a.mouseUp),setInterval(function(){a.updateGame()},20),B(a.fieldRef)},a.playerData={playerName:a.props.name,playerUid:a.props.uid,playerTeam:a.props.team,playerColor:me[0],playerHealth:100,playerPosition:{x:100,y:100},playerAngle:0,playerStatus:y.STANDING_SPACE,playerWeapon:ue.splatterShot_v1,bullets:[],splats:[]},a.playerData_2={playerName:a.props.name,playerUid:a.props.uid,playerTeam:a.props.team,playerColor:me[0],playerHealth:100,playerPosition:{x:200,y:200},playerAngle:0,playerStatus:y.STANDING_SPACE,playerWeapon:ue.splatterShot_v1,bullets:[],splats:[]},a.playerData_3={playerName:a.props.name,playerUid:a.props.uid,playerTeam:a.props.team,playerColor:me[0],playerHealth:100,playerPosition:{x:300,y:300},playerAngle:0,playerStatus:y.STANDING_SPACE,playerWeapon:ue.splatterShot_v1,bullets:[],splats:[]},a.localPlayerData={gameState:u.GAMING,roomId:a.props.roomId,playerMoveSpeed:5,playerMoveDirection:{x:0,y:0},inkAmount:100,keyStrokeState:{left:0,right:0,up:0,down:0,space:0,g:0},mousePosition:{x:0,y:0},mouseClient:{x:0,y:0},mouseDownState:0,timeStamp:Date.now(),initTime:Date.now(),gameRemainTime:Date.now(),timeColor:"#FFFFFF"},a.otherPlayerData=[],a.mouseScale=1,a.state={gameBoardWidth:1600,gameBoardHeight:900,cameraSize:1e3,playerPosition:{x:100,y:100},inkAmount:100},setInterval(function(){},100),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return this.localPlayerData.gameState===u.GAMING||this.localPlayerData.gameState===u.FREEZE?n.a.createElement("div",{id:"game-container"},n.a.createElement("svg",{id:"svg-container",width:Math.max(window.innerWidth,window.innerHeight),height:Math.max(window.innerWidth,window.innerHeight),preserveAspectRatio:"xMidYMid slice",viewBox:[this.state.cameraSize/-2+this.state.playerPosition.x,this.state.cameraSize/-4+this.state.playerPosition.y,this.state.cameraSize,this.state.cameraSize]},n.a.createElement("foreignObject",{x:"0",y:"0",width:"10000",height:"10000"},n.a.createElement("canvas",{id:"groundLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.groundRef=t}}),n.a.createElement("canvas",{id:"splatLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.splatRef=t}}),n.a.createElement("canvas",{id:"splatAnimationLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.splatAnimationRef=t}}),n.a.createElement("canvas",{id:"fieldLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.fieldRef=t}}),n.a.createElement("canvas",{id:"playerLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.playerRef=t}}),n.a.createElement("canvas",{id:"itemLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.itemRef=t}}),n.a.createElement("canvas",{id:"bulletLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.bulletRef=t}}),n.a.createElement("canvas",{id:"aimPointLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.aimPointRef=t}}))),n.a.createElement("svg",{id:"info-container",x:"0",y:"0",width:window.innerWidth,height:window.innerHeight},n.a.createElement(je,{inkColor:this.playerData.playerColor,inkAmount:this.localPlayerData.inkAmount}),n.a.createElement("text",{id:"timer",x:"600",y:"80",width:"300",height:"100",style:{fill:this.localPlayerData.timeColor}},this.localPlayerData.gameRemainTime))):n.a.createElement(ye.a,{to:"/result"})}}]),t}(n.a.Component),Le=a(63),Fe=a.n(Le),Ye=a(64),He=a.n(Ye),Ue=a(65),Ve=a.n(Ue);a(111);var ze=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).closeJumpOut=function(){console.log(a.state.show),a.setState({show:{display:"none"}})},a.state={show:a.props.display},console.log("constr",a.state.show),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.display!==e.display&&this.setState({show:this.props.display})}},{key:"render",value:function(){return n.a.createElement("div",{style:this.state.show,className:"Jump-bg"},n.a.createElement("div",{className:"Jump-container"},n.a.createElement("button",{onClick:this.closeJumpOut,className:"Jump-closeButton"},"X"),n.a.createElement("h2",null,this.props.title),this.props.form.map(function(e){return function(e){return n.a.createElement("div",{className:"Jump-component"},n.a.createElement("h3",null,e),n.a.createElement("input",null))}(e)}),n.a.createElement("button",{className:"App_button"},this.props.submit)))}}]),t}(r.Component),Je=(a(112),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handlePlay=function(){a.props.socket.emit("newPlayer",{name:a.props.name}),a.props.socket.on("getPlayerBasicInfo",function(e){a.props.setRoomId(e.roomId),a.props.setUid(e.uid),a.props.setTeam(e.team),a.props.history.push("/wait/".concat(a.props.roomId))})},a.state={login_display:{display:"none"},signup_display:{display:"none"}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleDisplay",value:function(e){"login"===e?this.setState({login_display:{display:"block"}}):"signup"===e&&this.setState({signup_display:{display:"block"}})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"Home_container"},n.a.createElement("button",{className:"App_button top-button",onClick:function(){return e.handleDisplay("signup")}},"Sign up"),n.a.createElement("button",{className:"App_button top-button",onClick:function(){return e.handleDisplay("login")}},"Log in"),n.a.createElement(ze,{display:this.state.login_display,title:"Log in",form:["id","pw"],submit:"Log in!"}),n.a.createElement(ze,{display:this.state.signup_display,title:"Sign up",form:["email","id","pw","pw again"],submit:"Sign up!"}),n.a.createElement("div",{className:"Home_main"},n.a.createElement("img",{src:Ve.a}),n.a.createElement("input",{id:"Name",autoComplete:"off",spellCheck:"false",onKeyUp:this.props.setName}),n.a.createElement("button",{className:"App_button",onClick:this.handlePlay},"Play!")),n.a.createElement("div",{className:"Home_mask"}),n.a.createElement("div",{id:"bg_wrapper"},n.a.createElement("img",{src:He.a,id:"bg_img"})))}}]),t}(r.Component)),Ze=a(12),Xe=(a(113),a(114),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"UserBlock-container"},n.a.createElement("img",{src:f.a}),n.a.createElement("h3",null,this.props.userName),n.a.createElement("h4",null,"STATUS"))}}]),t}(n.a.Component)),$e=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleBack=function(){a.props.socket.disconnect(),a.props.socket.open(),a.props.history.push("/home"),a.props.setName()},a.state={teamA:[],teamB:[]},a.props.socket.emit("getRoomPlayers",{roomId:a.props.roomId}),a.props.socket.on("getRoomPlayers",function(e){a.setState({teamA:e.teamA.map(function(e){return e.name}),teamB:e.teamB.map(function(e){return e.name})})}),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.teamA.map(function(e){return n.a.createElement("li",{key:e},n.a.createElement(Xe,{userName:e}))}),t=this.state.teamB.map(function(e){return n.a.createElement("li",{key:e},n.a.createElement(Xe,{userName:e}))});return n.a.createElement("div",{className:"Wait_container"},n.a.createElement("h1",null,"Game Lobby"),n.a.createElement("h3",{id:"Wait_message"},"waiting for teammates..."),n.a.createElement("div",{id:"Wait_wrapper"},n.a.createElement("div",{className:"Wait_group"},n.a.createElement("h3",{className:"Wait_grouptitle"},"TEAM A"),n.a.createElement("ul",null,e)),n.a.createElement("div",{className:"Wait_group"},n.a.createElement("h3",null,"TEAM B"),n.a.createElement("ul",null,t))),n.a.createElement("div",{id:"Wait_button"},n.a.createElement(Ze.b,{to:"/game/".concat(this.props.roomId)},n.a.createElement("button",{className:"App_button"},"Start!")),n.a.createElement("button",{className:"App_button",onClick:this.handleBack},"Back")))}}]),t}(r.Component),qe=(a(115),function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log("result"),n.a.createElement("div",{className:"Result-container"},n.a.createElement("h1",null,"Result"),n.a.createElement("div",null),n.a.createElement(Ze.b,{to:"/home"},n.a.createElement("button",{className:"App_button"},"OK!")))}}]),t}(r.Component)),Qe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).setName=function(e){e?""!==e.target.value&&a.setState({name:e.target.value}):a.setState({name:"Player"})},a.setUid=function(e){a.setState({uid:e})},a.setRoomId=function(e){a.setState({roomId:e})},a.setTeam=function(e){a.setState({team:e})},a.socket=Fe()("http://localhost:8080"),a.state={roomId:null,name:"Player",uid:null,team:null},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(ye.d,null,n.a.createElement(ye.b,{exact:!0,path:"/",render:function(){return n.a.createElement(ye.a,{to:"/home"})}}),n.a.createElement(ye.b,{path:"/home",render:function(t){return n.a.createElement(Je,Object.assign({},t,e.state,{socket:e.socket,setName:e.setName,setUid:e.setUid,setRoomId:e.setRoomId,setTeam:e.setTeam}))}}),n.a.createElement(ye.b,{path:"/wait/".concat(this.state.roomId),render:function(t){return n.a.createElement($e,Object.assign({},t,e.state,{socket:e.socket,setName:e.setName}))}}),n.a.createElement(ye.b,{path:"/game/".concat(this.state.roomId),render:function(t){return n.a.createElement(Ke,Object.assign({},t,e.state,{socket:e.socket}))}}),n.a.createElement(ye.b,{path:"/result",render:function(){return n.a.createElement(qe,null)}}))}}]),t}(r.Component);var et=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(Ze.a,null,n.a.createElement(Qe,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(et,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[67,1,2]]]);
//# sourceMappingURL=main.f379eee9.chunk.js.map