(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,a){e.exports=a.p+"static/media/splash2.47284f8c.wav"},132:function(e,t,a){e.exports=a.p+"static/media/p-02.82478dc0.svg"},133:function(e,t,a){e.exports=a.p+"static/media/p-03.da042bf5.svg"},134:function(e,t,a){e.exports=a.p+"static/media/p-04.844a2b09.svg"},135:function(e,t,a){e.exports=a.p+"static/media/p-02.9753905a.svg"},136:function(e,t,a){e.exports=a.p+"static/media/p-03.5e905332.svg"},137:function(e,t,a){e.exports=a.p+"static/media/p-04.433c659c.svg"},138:function(e,t,a){e.exports=a.p+"static/media/p-02.a4285073.svg"},139:function(e,t,a){e.exports=a.p+"static/media/p-03.c17a0324.svg"},140:function(e,t,a){e.exports=a.p+"static/media/p-04.1671b51e.svg"},141:function(e,t,a){e.exports=a.p+"static/media/p-02.2b7d0e6e.svg"},142:function(e,t,a){e.exports=a.p+"static/media/p-03.ed47de29.svg"},143:function(e,t,a){e.exports=a.p+"static/media/p-04.54df64a8.svg"},144:function(e,t,a){e.exports=a.p+"static/media/inkHit06.06b2c837.wav"},145:function(e,t,a){e.exports=a.p+"static/media/pink-01.92959e72.svg"},146:function(e,t,a){e.exports=a.p+"static/media/pink-02.032da1c3.svg"},147:function(e,t,a){e.exports=a.p+"static/media/pink-03.aa2c206b.svg"},148:function(e,t,a){e.exports=a.p+"static/media/blue-01.93385af3.svg"},149:function(e,t,a){e.exports=a.p+"static/media/blue-02.78e68feb.svg"},150:function(e,t,a){e.exports=a.p+"static/media/blue-03.98358227.svg"},151:function(e,t,a){e.exports=a.p+"static/media/green-01.c7a89ac8.svg"},152:function(e,t,a){e.exports=a.p+"static/media/green-02.d13b2050.svg"},153:function(e,t,a){e.exports=a.p+"static/media/green-03.e95e8e60.svg"},154:function(e,t,a){e.exports=a.p+"static/media/purple-01.56b26c88.svg"},155:function(e,t,a){e.exports=a.p+"static/media/purple-02.bbac2161.svg"},156:function(e,t,a){e.exports=a.p+"static/media/purple-03.a5cbce3b.svg"},157:function(e,t,a){e.exports=a.p+"static/media/inkBar.4467d4bf.svg"},161:function(e,t,a){e.exports=a.p+"static/media/Fight.2046d9f8.mp3"},162:function(e,t,a){e.exports=a.p+"static/media/whistle.c8c50fb6.wav"},165:function(e,t,a){e.exports=a.p+"static/media/temp.2b31b498.gif"},166:function(e,t,a){e.exports=a.p+"static/media/logo.b6405375.png"},167:function(e,t,a){e.exports=a.p+"static/media/resultBar.49eb83d2.svg"},169:function(e,t,a){e.exports=a(353)},174:function(e,t,a){},175:function(e,t,a){},202:function(e,t){},205:function(e,t,a){},206:function(e,t,a){},27:function(e,t){e.exports=function(e,t,a){this.main=e,this.glow=t,this.shadow=a}},28:function(e,t,a){e.exports=a.p+"static/media/p-03.9aeccb4c.svg"},348:function(e,t,a){},349:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){},352:function(e,t,a){},353:function(e,t,a){"use strict";a.r(t);var o=a(0),n=a.n(o),r=a(129),i=a.n(r),s=(a(174),a(175),a(2)),l=a(3),c=a(5),p=a(4),m=a(6),u=a(11),h=a(130),d=a.n(h),y=a(168),f=a(75),g=(a(205),{WAITING:1,GAMING:2,FREEZE:3,FINISH:4}),v={STANDING_OWN:0,WALKING_OWN:1,DIVING_OWN:2,SWIMMING_OWN:3,ATTACKING_OWN:4,STANDING_SPACE:5,WALKING_SPACE:6,DIVING_SPACE:7,SWIMMING_SPACE:8,ATTACKING_SPACE:9,STANDING_ENEMY:10,WALKING_ENEMY:11,DIVING_ENEMY:12,SWIMMING_ENEMY:13,ATTACKING_ENEMY:14,DEAD:15},w=a(27),M=a.n(w),k=[new M.a("#ff1493","#e72dc2","#d467a5"),new M.a("#02fffc","#44afec","#84d1e4"),new M.a("#25ff5d","#44ec6b","#82db8a"),new M.a("#866aff","#8744ec","#c793e5")],S=a(131),E=a.n(S),I=a(42),P=a.n(I),b=a(132),N=a.n(b),x=a(133),D=a.n(x),A=a(134),C=a.n(A),T=a(43),W=a.n(T),O=a(135),G=a.n(O),_=a(136),R=a.n(_),B=a(137),F=a.n(B),L=a(44),j=a.n(L),K=a(138),H=a.n(K),Y=a(139),U=a.n(Y),V=a(140),z=a.n(V),J=a(45),Z=a.n(J),$=a(141),X=a.n($),q=a(142),Q=a.n(q),ee=a(143),te=a.n(ee),ae=a(28),oe=a.n(ae),ne=[],re={x:-1e3,y:-1e3},ie=new Audio(E.a);ie.volume=.5;var se=function(e,t,a,o,n){var r=e.getContext("2d"),i=a.playerColor.main;switch(a.playerStatus){case v.STANDING_OWN:case v.WALKING_OWN:le(r,a,i,o);break;case v.DIVING_OWN:case v.SWIMMING_OWN:ie.play(),ce(r,a,i,o,n);break;case v.ATTACKING_OWN:case v.STANDING_SPACE:case v.WALKING_SPACE:case v.DIVING_SPACE:case v.SWIMMING_SPACE:case v.ATTACKING_SPACE:case v.STANDING_ENEMY:case v.WALKING_ENEMY:le(r,a,i,o);break;case v.DIVING_ENEMY:case v.SWIMMING_ENEMY:break;case v.ATTACKING_ENEMY:le(r,a,i,o);break;case v.DEAD:pe(r,a,i,o)}var s=t.getContext("2d");!(Math.abs(a.playerPosition.x-re.x)>50||Math.abs(a.playerPosition.y-re.y)>50)||a.playerStatus!==v.WALKING_OWN&&a.playerStatus!==v.SWIMMING_OWN&&a.playerStatus!==v.WALKING_ENEMY&&a.playerStatus!==v.SWIMMING_ENEMY||(ne.push([a.playerPosition.x,a.playerPosition.y,20,300]),re.x=a.playerPosition.x,re.y=a.playerPosition.y),s.clearRect(0,0,t.width,t.height);for(var l=0;l<ne.length;++l)ne[l][2]+=.5,me(s,ne[l][0],ne[l][1],ne[l][2],20),ne[l][2]-10>0&&ue(s,ne[l][0],ne[l][1],ne[l][2]-10,20),ne[l][2]-20>0&&he(s,ne[l][0],ne[l][1],ne[l][2]-20,20),ne[l][2]>=ne[l][3]&&(ne.splice(l,1),--l)},le=function(e,t,a,o){var n=t.playerName,r=t.playerColor,i=t.playerPosition,s=t.playerAngle;e.save(),e.translate(i.x,i.y),e.font="bold 12pt Freckle Face";var l=e.measureText(n).width;e.strokeStyle=o?"#ffd700":"#FFFFFF",e.lineWidth=3,e.strokeText(n,-l/2,50),e.fillStyle=r,e.font="bold 12pt Freckle Face",e.fillText(n,-l/2,50),e.restore();var c=new Image,p=new Image,m=new Image,u=new Image;switch(a){case k[0].main:c.src=Z.a,p.src=X.a,m.src=Q.a,u.src=oe.a;break;case k[1].main:c.src=j.a,p.src=H.a,m.src=U.a,u.src=oe.a;break;case k[2].main:c.src=P.a,p.src=N.a,m.src=D.a,u.src=oe.a;break;case k[3].main:c.src=W.a,p.src=G.a,m.src=R.a,u.src=oe.a}e.translate(i.x,i.y),e.rotate(Math.PI/180*(s+180)),e.drawImage(c,-35,-37,65,65),e.drawImage(p,-35,-2,50,50),e.drawImage(u,-25,3,50,50),e.drawImage(m,-15,-2,50,50),e.rotate(-Math.PI/180*(s+180)),e.translate(-i.x,-i.y)},ce=function(e,t,a,o,n){var r=t.playerName,i=t.playerColor,s=t.playerPosition;if(n){e.save(),e.translate(s.x,s.y),e.font="bold 10pt Freckle Face";var l=e.measureText(r).width;e.strokeStyle=o?"#ffd700":"#FFFFFF",e.lineWidth=3,e.strokeText(r,-l/2,50),e.fillStyle=i,e.font="bold 10pt Freckle Face",e.fillText(r,-l/2,50),e.restore();var c=new Image;switch(a){case k[0].main:c.src=te.a;break;case k[1].main:c.src=z.a;break;case k[2].main:c.src=C.a;break;case k[3].main:c.src=F.a}e.translate(s.x,s.y),e.drawImage(c,-35,-13,65,65),e.translate(-s.x,-s.y)}},pe=function(e,t,a,o){var n=t.playerName,r=t.playerColor,i=t.playerPosition;e.save(),e.translate(i.x,i.y),e.beginPath(),e.moveTo(-25,-25),e.lineTo(25,25),e.moveTo(25,-25),e.lineTo(-25,25),e.closePath(),e.lineWidth=10,e.stroke(),e.font="bold 10pt Freckle Face";var s=e.measureText(n).width;e.strokeStyle=o?"#ffd700":"#FFFFFF",e.lineWidth=3,e.strokeText(n,-s/2,50),e.fillStyle=r,e.font="bold 10pt Freckle Face",e.fillText(n,-s/2,50),e.restore()},me=function(e,t,a,o,n){var r=0,i=0,s=0;e.save(),e.beginPath();for(var l=0;l<n;l++)r=l/n*2*Math.PI,i=t+o*Math.sin(r),s=a+o*Math.cos(r),e.lineTo(i,s);e.closePath(),e.lineWidth=3,e.strokeStyle="rgba(230,230,230,"+Math.max(0,40-o)/100+")",e.stroke(),e.restore()},ue=function(e,t,a,o,n){var r=0,i=0,s=0;e.save(),e.beginPath();for(var l=0;l<n;l++)r=l/n*2*Math.PI,i=t+o*Math.sin(r),s=a+o*Math.cos(r),e.lineTo(i,s);e.closePath(),e.lineWidth=2,e.strokeStyle="rgba(220,220,220,"+Math.max(0,26-o)/100+")",e.stroke(),e.restore()},he=function(e,t,a,o,n){var r=0,i=0,s=0;e.save(),e.beginPath();for(var l=0;l<n;l++)r=l/n*2*Math.PI,i=t+o*Math.sin(r),s=a+o*Math.cos(r),e.lineTo(i,s);e.closePath(),e.lineWidth=1,e.strokeStyle="rgba(200,200,200,"+Math.max(0,22-o)/100+")",e.stroke(),e.restore()},de=function(e,t,a,o,n){for(var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=0,s=0,l=0,c=[e],p=0;p<n;p++)i=p/n*2*Math.PI+r/180*Math.PI,s=t+o*Math.sin(i),l=a+o*Math.cos(i),c.push([s,l]);return c},ye={fieldRange:{xMin:50,xMax:1550,yMin:50,yMax:850},rectObjects:[["rock",450,50,100,200],["rock",450,550,100,200],["rock",1050,50,100,200],["rock",1050,550,100,200],["rock",750,275,100,400],["rock",600,400,400,100],["rock",50,0,1600,50],["rock",0,50,50,900],["rock",50,850,1600,50],["rock",1550,50,50,900],["rock",0,0,50,50],["rock",1550,0,50,50],["rock",0,850,50,50],["rock",1550,850,50,50]],polyObjects:[de("white",50,450,150,8,22.5),de("white",1550,450,150,8,22.5)],spawnPoint:{teamA:{x:100,y:450},teamB:{x:1500,y:450}}},fe=function(e){var t=ye,a=t.polyObjects,o=t.fieldRange.xMin,n=t.fieldRange.yMin,r=t.fieldRange.xMax,i=t.fieldRange.yMax,s=e.getContext("2d");s.save(),s.shadowBlur=3,s.shadowColor="rgba(63, 255, 239, 0.555)",s.shadowOffsetX=0,s.shadowOffsetY=0;var l=ge(o,n,r-o,i-n,30);s.strokeStyle="#525C63",s.lineWidth=8,s.stroke(l);l=ge(o-6,n-6,r-o+12,i-n+12,30);s.strokeStyle="#3B4349",s.lineWidth=8,s.stroke(l);for(var c=0;c<a.length;++c)switch(a[c][0]){case"white":s.fillStyle="#EEEEEE";var p=ve(a[c]);s.fill(p)}a=t.rectObjects;for(c=0;c<a.length;++c){a[c][1],a[c][2],a[c][3],a[c][4];switch(a[c][0]){case"rock":s.fillStyle="#525C63";p=ge(a[c][1],a[c][2],a[c][3],a[c][4],5);s.fill(p),s.fillStyle="#3B4349",p=ge(a[c][1]+8,a[c][2]+8,a[c][3]-16,a[c][4]-16,5),s.fill(p),s.fillStyle="#21292D",p=ge(a[c][1]+20,a[c][2]+20,a[c][3]-40,a[c][4]-40,5),s.fill(p)}}s.restore()};function ge(e,t,a,o,n){var r=new Path2D;return r.moveTo(e+n,t),r.lineTo(e+a-n,t),r.arc(e+a-n,t+n,n,Math.PI/180*270,0,!1),r.lineTo(e+a,t+o-n),r.arc(e+a-n,t+o-n,n,0,Math.PI/180*90,0,!1),r.lineTo(e+n,t+o),r.arc(e+n,t+o-n,n,Math.PI/180*90,Math.PI/180*180,!1),r.lineTo(e,t+n),r.arc(e+n,t+n,n,Math.PI/180*180,Math.PI/180*270,!1),r}function ve(e){var t=new Path2D,a=e.length;t.moveTo(e[a-1][0],e[a-1][1]);for(var o=1;o<a;o++)t.lineTo(e[o][0],e[o][1]);return t}var we=a(144),Me=a.n(we),ke=a(145),Se=a.n(ke),Ee=a(146),Ie=a.n(Ee),Pe=a(147),be=a.n(Pe),Ne=a(148),xe=a.n(Ne),De=a(149),Ae=a.n(De),Ce=a(150),Te=a.n(Ce),We=a(151),Oe=a.n(We),Ge=a(152),_e=a.n(Ge),Re=a(153),Be=a.n(Re),Fe=a(154),Le=a.n(Fe),je=a(155),Ke=a.n(je),He=a(156),Ye=a.n(He),Ue=[[Se.a,Ie.a,be.a],[xe.a,Ae.a,Te.a],[Oe.a,_e.a,Be.a],[Le.a,Ke.a,Ye.a]],Ve=[],ze=new Audio(Me.a);ze.volume=.5;var Je=function(e,t,a,o,n,r){var i=e.getContext("2d"),s=t.getContext("2d");i.save();for(var l=0;l<a.length;++l){var c=a[l][6],p=a[l][0],m=a[l][1],u=a[l][2],h=a[l][3],d=2*a[l][4],y=new Image;y.src=Ue[c][p],y.onload=function(){i.translate(m,u),i.rotate(h/180*Math.PI),i.drawImage(y,-d/2,-d/2,d,d),i.rotate(-h/180*Math.PI),i.translate(-m,-u)},ze.currentTime=0,ze.play(),Ve.push([m,u,1,d])}i.restore();for(var f=0;f<Ve.length;++f)Ve[f][2]+=2,Ze(s,Ve[f][0],Ve[f][1],Ve[f][2],20),Ve[f][2]-10>0&&$e(s,Ve[f][0],Ve[f][1],Ve[f][2]-10,20),Ve[f][2]-20>0&&Xe(s,Ve[f][0],Ve[f][1],Ve[f][2]-20,20),Ve[f][2]>=Ve[f][3]&&(Ve.splice(f,1),--f)},Ze=function(e,t,a,o,n){var r=0,i=0,s=0;e.save(),e.beginPath();for(var l=0;l<n;l++)r=l/n*2*Math.PI,i=t+o*Math.sin(r),s=a+o*Math.cos(r),e.lineTo(i,s);e.closePath(),e.lineWidth=3,e.strokeStyle="rgba(230,230,230,"+Math.max(0,30-o)/100+")",e.stroke(),e.restore()},$e=function(e,t,a,o,n){var r=0,i=0,s=0;e.save(),e.beginPath();for(var l=0;l<n;l++)r=l/n*2*Math.PI,i=t+o*Math.sin(r),s=a+o*Math.cos(r),e.lineTo(i,s);e.closePath(),e.lineWidth=2,e.strokeStyle="rgba(220,220,220,"+Math.max(0,20-o)/100+")",e.stroke(),e.restore()},Xe=function(e,t,a,o,n){var r=0,i=0,s=0;e.save(),e.beginPath();for(var l=0;l<n;l++)r=l/n*2*Math.PI,i=t+o*Math.sin(r),s=a+o*Math.cos(r),e.lineTo(i,s);e.closePath(),e.lineWidth=1,e.strokeStyle="rgba(200,200,200,"+Math.max(0,10-o)/100+")",e.stroke(),e.restore()},qe=function(e,t,a,o,n){var r=e.getContext("2d");r.clearRect(0,0,e.width,e.height),r.save(),et(r,a.x,a.y,o),Qe(r,n),r.restore()},Qe=function(e,t){e.save();for(var a=0;a<t.length;++a){var o=0,n=0,r=0;e.beginPath();for(var i=0;i<20;i++)o=i/20*2*Math.PI,n=t[a][0]+10*Math.sin(o),r=t[a][1]+10*Math.cos(o),e.lineTo(n,r);for(e.closePath(),e.strokeStyle="#b3198c88",e.lineWidth=3,e.stroke(),e.beginPath(),i=0;i<20;i++)o=i/20*2*Math.PI,n=t[a][0]+7*Math.sin(o),r=t[a][1]+7*Math.cos(o),e.lineTo(n,r);e.closePath(),e.strokeStyle="#77777755",e.lineWidth=2,e.stroke()}e.restore()},et=function(e,t,a,o){var n=0,r=0,i=0;e.save(),e.translate(t,a),e.save(),e.rotate(-Math.PI/180*o),e.beginPath();for(var s=0;s<20;s++)n=s/20*2*Math.PI,r=15*Math.sin(n),i=15*Math.cos(n),e.lineTo(r,i);e.closePath(),e.strokeStyle="#77777755",e.lineWidth=3,e.stroke(),e.beginPath();for(s=0;s<20;s++)n=s/20*2*Math.PI,r=9*Math.sin(n),i=9*Math.cos(n),e.lineTo(r,i);e.closePath(),e.strokeStyle="#77777755",e.lineWidth=1.5,e.stroke(),e.beginPath(),e.moveTo(0,-9),e.lineTo(0,-22),e.moveTo(0,9),e.lineTo(0,22),e.moveTo(-9,0),e.lineTo(-22,0),e.moveTo(9,0),e.lineTo(22,0),e.closePath(),e.lineWidth=3,e.stroke(),e.restore(),e.restore()},tt=a(46),at=a.n(tt),ot=a(47),nt=a.n(ot),rt=new Audio(at.a);rt.volume=.5,new Audio(nt.a).volume=.5;var it=function(e,t,a,o,n){var r=e.getContext("2d");r.save();for(var i=0;i<t.length;++i)if(r.fillStyle=a.main,st(r,t[i][1],t[i][2],8,10),lt(r,t[i][1],t[i][2],8,10),1===t[i][3]){var s=Math.pow(Math.pow(o-t[i][1],2)+Math.pow(n-t[i][2],2),.5);s<800&&(rt.volume=.5/Math.min(5,s/100+1),rt.currentTime=0,rt.play())}r.restore()},st=function(e,t,a,o,n){var r=0,i=0,s=0;e.beginPath();for(var l=0;l<n;l++)r=l/n*2*Math.PI,i=t+o*Math.sin(r),s=a+o*Math.cos(r),e.lineTo(i,s);e.closePath(),e.fill()},lt=function(e,t,a,o,n){var r=0,i=0,s=0;e.beginPath();for(var l=0;l<n;l++)r=l/n*2*Math.PI,i=t+o*Math.sin(r),s=a+o*Math.cos(r),e.lineTo(i,s);e.closePath(),e.lineWidth=3,e.strokeStyle="#55555533",e.stroke()},ct=function(e,t,a,o,n,r,i,s){t.getContext("2d").clearRect(0,0,t.width,t.height),a.getContext("2d").clearRect(0,0,a.width,a.height),o.getContext("2d").clearRect(0,0,o.width,o.height);for(var l=n.length,c=0,p=0;p<l;++p)n[p].playerTeam===s&&(c=1),se(a,o,n[p],p===l-1?1:0,c),Je(e,o,n[p].splats,n[p].playerColor,n[p].playerAngle,n[p].playerPosition),it(t,n[p].bullets,n[p].playerColor,r,i)},pt={splatterShot_v1:{main:{type:0,maxShootDistance:400,bulletSpeed:30,fireSpeed:200,fireInkCost:5,maxError:20,gunLength:25,splatSize:75,splatDamage:35,splatShapeId:[0,1,2]},sub:{},price:1e3}},mt=function(e,t){switch(e.key){case"w":case"W":case"ArrowUp":t.playerMoveDirection.y=-1,t.keyStrokeState.up=1;break;case"s":case"S":case"ArrowDown":t.playerMoveDirection.y=1,t.keyStrokeState.down=1;break;case"a":case"A":case"ArrowLeft":t.playerMoveDirection.x=-1,t.keyStrokeState.left=1;break;case"d":case"D":case"ArrowRight":t.playerMoveDirection.x=1,t.keyStrokeState.right=1;break;case" ":t.keyStrokeState.space=1}},ut=function(e,t){switch(e.key){case"w":case"W":case"ArrowUp":1===t.keyStrokeState.down?t.playerMoveDirection.y=1:t.playerMoveDirection.y=0,t.keyStrokeState.up=0;break;case"s":case"S":case"ArrowDown":1===t.keyStrokeState.up?t.playerMoveDirection.y=-1:t.playerMoveDirection.y=0,t.keyStrokeState.down=0;break;case"a":case"A":case"ArrowLeft":1===t.keyStrokeState.right?t.playerMoveDirection.x=1:t.playerMoveDirection.x=0,t.keyStrokeState.left=0;break;case"d":case"D":case"ArrowRight":1===t.keyStrokeState.left?t.playerMoveDirection.x=-1:t.playerMoveDirection.x=0,t.keyStrokeState.right=0;break;case" ":t.keyStrokeState.space=0}},ht=function(e,t){t.mouseClient.x=e.clientX,t.mouseClient.y=e.clientY},dt=function(e,t,a,o){var n=0;o-t>=0&&(n=180);var r=(a-e)/(o-t);return-1*yt(Math.atan(r))+n},yt=function(e){return 180*e/Math.PI},ft=function(e,t){var a=ye,o=a.rectObjects;if(t.gameState===g.GAMING){var n=e.playerPosition.x,r=e.playerPosition.y,i=t.playerMoveSpeed,s=t.playerMoveDirection.x,l=t.playerMoveDirection.y;0!==s&&0!==l&&(i/=1.414);var c=n+s*i,p=r+l*i;c=Math.min(Math.max(c,a.fieldRange.xMin+25),a.fieldRange.xMax-25),p=Math.min(Math.max(p,a.fieldRange.yMin+25),a.fieldRange.yMax-25);for(var m=0;m<o.length;++m){var u=o[m][1]+o[m][3]/2,h=o[m][2]+o[m][4]/2;if(Math.abs(c-u)<(o[m][3]+50)/2&&Math.abs(p-h)<(o[m][4]+50)/2){var d=n<u?u-(o[m][3]+50)/2:u+(o[m][3]+50)/2,y=r<h?h-(o[m][4]+50)/2:h+(o[m][4]+50)/2;Math.abs(d-n)<Math.abs(y-r)?c=d:Math.abs(d-n)>Math.abs(y-r)?p=y:(c=d,p=y)}}return e.playerPosition.x=c,e.playerPosition.y=p,e.playerPosition}};new Audio(at.a).volume=.5;var gt=new Audio(nt.a);gt.volume=.5;var vt=[],wt=0,Mt=function(e,t,a){var o=e.playerAngle,n=e.playerPosition.x,r=e.playerPosition.y,i=t.mousePosition.x,s=t.mousePosition.y,l=[],c=[],p=[],m=0;if(t.gameState===g.GAMING&&e.playerStatus!==v.DEAD)switch(e.playerWeapon.main.type){case 0:var u=e.playerWeapon.main.maxShootDistance,h=e.playerWeapon.main.bulletSpeed,d=e.playerWeapon.main.fireSpeed,y=e.playerWeapon.main.fireInkCost,f=e.playerWeapon.main.maxError,w=e.playerWeapon.main.gunLength,M=Math.pow(Math.pow(i-n,2)+Math.pow(s-r,2),.5),k=Math.min(M,u),S=n+Math.sin(o/180*Math.PI)*k,E=r-Math.cos(o/180*Math.PI)*k,I=Pt(n,r,S,E),P=bt(n,r,I[0],I[1],a,e.playerUid);c.push([P[0],P[1]]),S=n+Math.sin(o/180*Math.PI)*k+2*(Math.random()-.5)*f,E=r-Math.cos(o/180*Math.PI)*k+2*(Math.random()-.5)*f;var b=n+Math.sin(o/180*Math.PI)*w,N=r-Math.cos(o/180*Math.PI)*w,x=Pt(b,N,S,E),D=bt(b,N,x[0],x[1],a,e.playerUid),A=D[0],C=D[1],T=Math.pow(Math.pow(A-b,2)+Math.pow(C-N,2),.5);0===t.keyStrokeState.space&&1===t.mouseDownState&&t.timeStamp-wt>d&&(wt=t.timeStamp,t.inkAmount-y>=0?(m=y,vt.push([0,b,N,A,C,(A-b)/T*h,(C-N)/T*h,1])):(gt.currentTime=0,gt.play()))}for(var W=0;W<vt.length;++W)if(vt[W][1]+=vt[W][5],vt[W][2]+=vt[W][6],1===vt[W][7]?(p.push([0,vt[W][1],vt[W][2],1]),vt[W][7]=0):p.push([0,vt[W][1],vt[W][2],0]),Math.abs(vt[W][1]-vt[W][3])<Math.abs(vt[W][5])||Math.abs(vt[W][2]-vt[W][4])<Math.abs(vt[W][6])){var O=2*(Math.random()-.5)*Math.PI,G=e.playerWeapon.main.splatSize,_=e.playerWeapon.main.splatDamage,R=e.playerWeapon.main.splatShapeId[Math.floor(Math.random()*e.playerWeapon.main.splatShapeId.length)],B=e.playerColorID;l.push([R,vt[W][3],vt[W][4],O,G,_,B]),vt.splice(W,1),--W}else;return e.bullets=p,e.splats=l,[c,m]};var kt=function(e,t,a){for(var o=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}(t.playerColor.main),n=e.getContext("2d").getImageData(t.playerPosition.x-25,t.playerPosition.y-25,51,51).data,r=0,i=0,s=0;s<11;++s)for(var l=0;l<11;++l)0!==n[4*(51*s*5+5*l)+3]?n[4*(51*s*5+5*l)]===o[0]&&n[4*(51*s*5+5*l)+1]===o[1]&&n[4*(51*s*5+5*l)+2]===o[2]&&(r+=1):i+=1;var c=0;switch(i/121<.5&&(c=r<121-r-i?1:2),c){case 0:1===a.mouseDownState?t.playerStatus=v.ATTACKING_SPACE:0===a.keyStrokeState.space?0===a.playerMoveDirection.x&&0===a.playerMoveDirection.y?t.playerStatus=v.STANDING_SPACE:t.playerStatus=v.WALKING_SPACE:0===a.playerMoveDirection.x&&0===a.playerMoveDirection.y?t.playerStatus=v.DIVING_SPACE:t.playerStatus=v.SWIMMING_SPACE;break;case 1:1===a.mouseDownState?t.playerStatus=v.ATTACKING_ENEMY:0===a.keyStrokeState.space?0===a.playerMoveDirection.x&&0===a.playerMoveDirection.y?t.playerStatus=v.STANDING_ENEMY:t.playerStatus=v.WALKING_ENEMY:0===a.playerMoveDirection.x&&0===a.playerMoveDirection.y?t.playerStatus=v.DIVING_ENEMY:t.playerStatus=v.SWIMMING_ENEMY;break;case 2:1===a.mouseDownState?t.playerStatus=v.ATTACKING_OWN:0===a.keyStrokeState.space?0===a.playerMoveDirection.x&&0===a.playerMoveDirection.y?t.playerStatus=v.STANDING_OWN:t.playerStatus=v.WALKING_OWN:0===a.playerMoveDirection.x&&0===a.playerMoveDirection.y?t.playerStatus=v.DIVING_OWN:t.playerStatus=v.SWIMMING_OWN}},St=function(e,t){switch(e.playerStatus){case v.STANDING_OWN:case v.WALKING_OWN:t.playerMoveSpeed=4;break;case v.DIVING_OWN:case v.SWIMMING_OWN:t.playerMoveSpeed=6;break;case v.ATTACKING_OWN:t.playerMoveSpeed=2.5;break;case v.STANDING_SPACE:case v.WALKING_SPACE:t.playerMoveSpeed=3;break;case v.DIVING_SPACE:case v.SWIMMING_SPACE:case v.ATTACKING_SPACE:t.playerMoveSpeed=1;break;case v.STANDING_ENEMY:case v.WALKING_ENEMY:case v.DIVING_ENEMY:case v.SWIMMING_ENEMY:t.playerMoveSpeed=1.5;break;case v.ATTACKING_ENEMY:t.playerMoveSpeed=.5;break;case v.DEAD:default:t.playerMoveSpeed=0}switch(e.gameState){case g.FREEZE:case g.FINISH:t.playerMoveSpeed=0}},Et=function(e,t,a){var o=a.inkAmount,n=a.playerHealth;o-=e;var r=0,i=0;switch(t.playerStatus){case v.STANDING_OWN:case v.WALKING_OWN:r=.1,i=.2;break;case v.DIVING_OWN:r=.5,i=.8;break;case v.SWIMMING_OWN:r=1,i=1.5;break;case v.ATTACKING_OWN:r=.1,i=.2;break;case v.STANDING_SPACE:case v.WALKING_SPACE:case v.DIVING_SPACE:case v.SWIMMING_SPACE:case v.ATTACKING_SPACE:r=.1,i=.1;break;case v.STANDING_ENEMY:case v.WALKING_ENEMY:case v.DIVING_ENEMY:case v.SWIMMING_ENEMY:case v.ATTACKING_ENEMY:r=.1,i=0;break;default:r=0,i=0}return o+=r,o=Math.max(Math.min(o,100),0),n+=i,n=Math.max(Math.min(n,100),0),a.inkAmount=o,a.playerHealth=n,[o,n]},It=function(e,t,a,o,n,r,i,s){if(e===a&&t===o||n===i&&r===s)return!1;var l=(s-r)*(a-e)-(i-n)*(o-t);if(0===l)return!1;var c=((i-n)*(t-r)-(s-r)*(e-n))/l,p=((a-e)*(t-r)-(o-t)*(e-n))/l;return!(c<0||c>1||p<0||p>1)&&{x:e+c*(a-e),y:t+c*(o-t)}},Pt=function(e,t,a,o){for(var n,r=ye,i=a,s=o,l=Math.pow(Math.pow(i-e,2)+Math.pow(s-t,2),.5),c=r.rectObjects,p=0;p<c.length;++p){var m=c[p][1],u=c[p][2],h=c[p][1]+c[p][3],d=c[p][2]+c[p][4];(v=[]).push(It(e,t,i,s,m,u,m,d)),v.push(It(e,t,i,s,m,u,h,u)),v.push(It(e,t,i,s,h,u,h,d)),v.push(It(e,t,i,s,m,d,h,d));for(var y=0;y<v.length;++y)!1!==v[y]&&(n=Math.pow(Math.pow(v[y].x-e,2)+Math.pow(v[y].y-t,2),.5))<l&&(l=n,i=v[y].x,s=v[y].y)}c=r.polyObjects;for(p=0;p<c.length;++p){var f,g=c[p].length;for(y=1;y<g;++y)y===g-1?!1!==(f=It(e,t,i,s,c[p][y][0],c[p][y][1],c[p][1][0],c[p][1][1]))&&(n=Math.pow(Math.pow(f.x-e,2)+Math.pow(f.y-t,2),.5))<l&&(l=n,i=f.x,s=f.y):!1!==(f=It(e,t,i,s,c[p][y][0],c[p][y][1],c[p][y+1][0],c[p][y+1][1]))&&(n=Math.pow(Math.pow(f.x-e,2)+Math.pow(f.y-t,2),.5))<l&&(l=n,i=f.x,s=f.y)}var v,w=r.fieldRange.xMin,M=r.fieldRange.yMin,k=r.fieldRange.xMax,S=r.fieldRange.yMax;(v=[]).push(It(e,t,i,s,w,M,w,S)),v.push(It(e,t,i,s,w,M,k,M)),v.push(It(e,t,i,s,k,M,k,S)),v.push(It(e,t,i,s,w,S,k,S));for(y=0;y<v.length;++y)if(!1!==v[y]){var E=Math.pow(Math.pow(v[y].x-e,2)+Math.pow(v[y].y-t,2),.5);E<l&&(l=E,i=v[y].x,s=v[y].y)}return[i,s]},bt=function(e,t,a,o,n,r){for(var i=0;i<n.length;++i)if(n[i].playerUid!==r&&n[i].playerStatus!==v.DEAD){var s=n[i].playerPosition.x-25,l=n[i].playerPosition.y-25,c=n[i].playerPosition.x+25,p=n[i].playerPosition.y+25,m=[];m.push(It(e,t,a,o,s,l,s,p)),m.push(It(e,t,a,o,s,l,c,l)),m.push(It(e,t,a,o,c,l,c,p)),m.push(It(e,t,a,o,s,p,c,p));for(var u=1e4,h=0;h<m.length;++h)if(!1!==m[h]){var d=Math.pow(Math.pow(m[h].x-e,2)+Math.pow(m[h].y-t,2),.5);d<u&&(u=d,a=m[h].x,o=m[h].y)}}return[a,o]};function Nt(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}var xt=function(e,t,a,o){if(o.gameState===g.FREEZE){var n=t.getContext("2d");n.drawImage(e,0,0);var r=ye.fieldRange.xMax-ye.fieldRange.xMin,i=ye.fieldRange.yMax-ye.fieldRange.yMin,s=n.getImageData(ye.fieldRange.xMin,ye.fieldRange.yMin,r,i).data,l=new Image;l.src=t.toDataURL();for(var c=Nt(a.playerColor.main),p=Nt(o.enemyColor.main),m=0,u=0,h=0,d=0;d<i;++d)for(var y=0;y<r;++y)0===s[4*(d*r+y)]&&0===s[4*(d*r+y)+1]&&0===s[4*(d*r+y)+2]&&0===s[4*(d*r+y)+3]?m+=1:s[4*(d*r+y)]===c[0]&&s[4*(d*r+y)+1]===c[1]&&s[4*(d*r+y)+2]===c[2]?u+=1:s[4*(d*r+y)]===p[0]&&s[4*(d*r+y)+1]===p[1]&&s[4*(d*r+y)+2]===p[2]&&(h+=1);var f=u/(m+u+h),v=h/(m+u+h);return{A:"A"===a.playerTeam?f:v,B:"B"===a.playerTeam?f:v,resultImage:l}}},Dt=function(e,t,a){if(e.playerStatus!==v.DEAD)for(var o=e.playerPosition.x,n=e.playerPosition.y,r=0;r<a.length;++r){for(var i=a[r].splats,s=0;s<i.length;++s){var l=Math.pow(Math.pow(o-i[s][1],2)+Math.pow(n-i[s][2],2),.5),c=0,p=Math.abs(i[s][4]-25),m=i[s][4]+25;c=l>m?0:l<p?i[s][5]:(l-p)/(m-p)*i[s][5],t.playerHealth=t.playerHealth-c}if(t.playerHealth<=0)return t.playerHealth=0,e.playerStatus=v.DEAD,{roomId:e.roomId,killerUid:a[r].playerUid,killerName:a[r].playerName,killedUid:e.playerUid,killedName:e.playerName}}return null},At=(a(206),a(157)),Ct=a.n(At),Tt=(a(354),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={inkColor:a.props.inkColor,inkAmount:a.props.inkAmount,inkBarPosition:{x:window.innerWidth-80,y:window.innerHeight-400}},console.log(a.state.inkColor),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"hexToRgb",value:function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null}},{key:"render",value:function(){var e={stroke:"none"},t={fill:this.state.inkColor.main,filter:"drop-shadow(0px 0px 5px "+this.state.inkColor.glow+")"};return n.a.createElement("g",null,n.a.createElement("rect",{className:"inkBar",x:this.state.inkBarPosition.x,y:this.state.inkBarPosition.y+3.4*(100-this.props.inkAmount),width:"50",height:3.4*this.props.inkAmount,style:t}),n.a.createElement("svg",{width:"1000",height:"1000",style:e,x:this.state.inkBarPosition.x-10,y:this.state.inkBarPosition.y-330},n.a.createElement("image",{href:Ct.a,width:"70",height:"1000",style:e})))}}]),t}(n.a.Component)),Wt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={HPPosition:{x:window.innerWidth-140,y:window.innerHeight-260}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.hp<30?"#CC0033":"#FFFFFF",t=parseInt(this.props.hp);return n.a.createElement("g",null,n.a.createElement("text",{x:this.state.HPPosition.x-10,y:this.state.HPPosition.y-30,width:"45",style:{fill:e,fontSize:"30px"}},t),n.a.createElement("text",{x:this.state.HPPosition.x,y:this.state.HPPosition.y-10,width:"30"},"/100"),n.a.createElement("rect",{x:this.state.HPPosition.x,y:this.state.HPPosition.y+2*(100-t),width:"30",height:2*t+5,style:{fill:e}}))}}]),t}(o.Component),Ot=a(161),Gt=a.n(Ot),_t=a(162),Rt=a.n(_t),Bt=(a(210),new Audio(Gt.a));Bt.volume=.5;var Ft=new Audio(Rt.a);Bt.volume=.3;var Lt=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).componentWillMount=function(){a.props.socket.emit("enterGame",Object(f.a)({},a.playerData)),a.props.socket.on("updateGame",function(e){a.otherPlayerData=e.allPlayers.filter(function(e){return e.playerUid!==a.playerData.playerUid})}),a.props.socket.on("getGameTime",function(e){a.localPlayerData.gameTime=e.gameTime}),a.props.socket.on("killEvent",function(e){var t=a.state.anouncement;t.push([e.killerName,e.killedName]),a.setState({anouncement:t}),a.localPlayerData.gameState===g.GAMING&&(a.anounceIntervalId=setTimeout(function(){a.setState(function(e){return{anouncement:e.anouncement.splice(1)}})},3e3))}),window.addEventListener("keyup",a.onKeyUp),window.addEventListener("keydown",a.onKeyDown),window.addEventListener("mousemove",a.trackMouse),window.addEventListener("mousedown",a.mouseDown),window.addEventListener("mouseup",a.mouseUp),Bt.currentTime=0,Bt.play()},a.onKeyDown=function(e){mt(e,a.localPlayerData)},a.onKeyUp=function(e){ut(e,a.localPlayerData)},a.trackMouse=function(e){ht(e,a.localPlayerData)},a.mouseDown=function(e){a.localPlayerData.mouseDownState=1},a.mouseUp=function(e){a.localPlayerData.mouseDownState=0},a.updateGame=function(){if(a.localPlayerData.gameState===g.GAMING||a.localPlayerData.gameState===g.FREEZE){var e=window.innerHeight,t=window.innerWidth;a.mouseScale=t>e?a.state.cameraSize/t:a.state.cameraSize/e;var o=a.groundRef.getBoundingClientRect();a.localPlayerData.mousePosition={x:(a.localPlayerData.mouseClient.x-o.left)*a.mouseScale,y:(a.localPlayerData.mouseClient.y-o.top)*a.mouseScale},a.playerData.playerAngle=dt(a.playerData.playerPosition.x,a.playerData.playerPosition.y,a.localPlayerData.mousePosition.x,a.localPlayerData.mousePosition.y),a.playerData.playerStatus!==v.DEAD&&kt(a.splatRef,a.playerData,a.localPlayerData);var n=Dt(a.playerData,a.localPlayerData,a.otherPlayerData);null!==n&&(a.props.socket.emit("killEvent",n),a.localPlayerData.deadTime=a.localPlayerData.timeStamp),a.playerData.playerStatus===v.DEAD&&a.localPlayerData.timeStamp-a.localPlayerData.deadTime>=a.localPlayerData.respawnTime&&(a.playerData.playerStatus=v.STANDING_SPACE,a.playerData.playerPosition=a.localPlayerData.spawnPosition,a.localPlayerData.inkAmount=100,a.localPlayerData.playerHealth=100),St(a.playerData,a.localPlayerData);var r=ft(a.playerData,a.localPlayerData);if(a.localPlayerData.gameState===g.FREEZE){var i=a.state.gameBoardWidth,s=a.state.gameBoardHeight;a.setState({cameraSize:i>s?i:s}),a.setState({playerPosition:{x:i/2,y:s/2}}),Bt.pause()}else a.setState({playerPosition:r});var l=Mt(a.playerData,a.localPlayerData,a.otherPlayerData),c=Object(y.a)(l,2),p=c[0],m=c[1],u=Et(m,a.playerData,a.localPlayerData);a.setState({inkAmount:u[0],healthAmount:u[1]}),a.otherPlayerData.push(a.playerData),ct(a.splatRef,a.bulletRef,a.playerRef,a.splatAnimationRef,a.otherPlayerData,a.playerData.playerPosition.x,a.playerData.playerPosition.y,a.playerData.playerTeam),qe(a.aimPointRef,a.playerData.playerPosition,a.localPlayerData.mousePosition,a.playerData.playerAngle,p)}else a.setState({cameraSize:2e3});if(a.localPlayerData.timeStamp=Date.now(),a.localPlayerData.gameTime<10&&(a.localPlayerData.timeColor="#c71585"),0===a.localPlayerData.gameTime&&Ft.play(),a.localPlayerData.gameTime<=0&&(a.localPlayerData.gameState=g.FREEZE,a.localPlayerData.gameTime<=-5&&(a.localPlayerData.gameState=g.FINISH)),a.props.socket.emit("updateGame",Object(f.a)({},a.playerData)),a.localPlayerData.gameState===g.FREEZE&&0===a.calculateResultFlag){var h=xt(a.fieldRef,a.splatRef,a.playerData,a.localPlayerData),d=parseInt(1e3*h.A)/10,w=parseInt(1e3*h.B)/10;a.setState({gameResult:{A:d,B:w}}),a.setState({resultImage:h.resultImage}),d===w?a.setState({winOrLose:"Tie"}):d>w?"A"===a.playerData.playerTeam?a.setState({winOrLose:"You Win!!"}):a.setState({winOrLose:"You Loss..."}):d<w&&("B"===a.playerData.playerTeam?a.setState({winOrLose:"You Win!!"}):a.setState({winOrLose:"You Loss..."})),a.calculateResultFlag=1}},a.componentDidMount=function(){a.updateIntervalId=setInterval(function(){a.updateGame()},20),fe(a.fieldRef),window.addEventListener("keyup",a.onKeyUp),window.addEventListener("keydown",a.onKeyDown),window.addEventListener("mousemove",a.trackMouse),window.addEventListener("mousedown",a.mouseDown),window.addEventListener("mouseup",a.mouseUp)},a.componentWillUnmount=function(){window.removeEventListener("keyup",a.onKeyUp),window.removeEventListener("keydown",a.onKeyDown),window.removeEventListener("mousemove",a.trackMouse),window.removeEventListener("mousedown",a.mouseDown),window.removeEventListener("mouseup",a.mouseUp),a.props.socket.off("updateGame"),a.props.socket.off("getGameTime"),a.props.socket.off("killEvent"),clearInterval(a.updateIntervalId),clearInterval(a.anounceIntervalId)};var o="A"===a.props.team?ye.spawnPoint.teamA.x:ye.spawnPoint.teamB.x,n="A"===a.props.team?ye.spawnPoint.teamA.y:ye.spawnPoint.teamB.y;return a.playerData={roomId:a.props.roomId,teamColor:a.props.teamColor,playerName:a.props.name,playerUid:a.props.uid,playerTeam:a.props.team,playerColor:k[a.props.teamColor[a.props.team]],playerColorID:a.props.teamColor[a.props.team],playerPosition:{x:o,y:n},playerAngle:0,playerStatus:v.STANDING_SPACE,playerWeapon:pt.splatterShot_v1,bullets:[],splats:[]},a.localPlayerData={spawnPosition:{x:o,y:n},respawnTime:2e3,gameState:g.GAMING,roomId:a.props.roomId,playerMoveSpeed:5,playerMoveDirection:{x:0,y:0},inkAmount:100,playerHealth:100,keyStrokeState:{left:0,right:0,up:0,down:0,space:0,g:0},mousePosition:{x:0,y:0},mouseClient:{x:0,y:0},mouseDownState:0,timeStamp:Date.now(),gameTime:Date.now(),deadTime:0,timeColor:"#FFFFFF",enemyColor:"A"===a.props.team?k[a.props.teamColor.B]:k[a.props.teamColor.A],result:{teamA:0,teamB:0}},a.otherPlayerData=[],a.calculateResultFlag=0,a.mouseScale=1,a.updateIntervalId=0,a.anounceIntervalId=0,a.state={gameBoardWidth:1600,gameBoardHeight:900,cameraSize:1e3,playerPosition:{x:100,y:100},inkAmount:100,healthAmount:100,anouncement:[],gameResult:{A:0,B:0},winOrLose:"Tie",resultImage:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this,t=this.localPlayerData.gameTime>0?this.localPlayerData.gameTime:0,a=[],o=0;o<this.state.anouncement.length;++o)a.push(n.a.createElement("text",{id:"anouncement",x:"50",y:40+30*o,width:"300",height:"200",key:o},this.state.anouncement[o][0]+" killed "+this.state.anouncement[o][1]));var r="";return this.localPlayerData.gameState===g.FREEZE&&(r=n.a.createElement("div",{id:"timesUp"},n.a.createElement("h1",null,"Time's Up!"))),this.localPlayerData.gameState===g.GAMING||this.localPlayerData.gameState===g.FREEZE?n.a.createElement("div",{id:"game-container"},n.a.createElement("svg",{id:"svg-container",width:Math.max(window.innerWidth,window.innerHeight),height:Math.max(window.innerWidth,window.innerHeight),preserveAspectRatio:"xMidYMid slice",viewBox:[this.state.cameraSize/-2+this.state.playerPosition.x,this.state.cameraSize/-4+this.state.playerPosition.y,this.state.cameraSize,this.state.cameraSize]},n.a.createElement("foreignObject",{x:"0",y:"0",width:"10000",height:"10000"},n.a.createElement("canvas",{id:"groundLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.groundRef=t}}),n.a.createElement("canvas",{id:"splatLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.splatRef=t}}),n.a.createElement("canvas",{id:"splatAnimationLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.splatAnimationRef=t}}),n.a.createElement("canvas",{id:"fieldLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.fieldRef=t}}),n.a.createElement("canvas",{id:"playerLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.playerRef=t}}),n.a.createElement("canvas",{id:"itemLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.itemRef=t}}),n.a.createElement("canvas",{id:"bulletLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.bulletRef=t}}),n.a.createElement("canvas",{id:"aimPointLayer",width:this.state.gameBoardWidth,height:this.state.gameBoardHeight,ref:function(t){return e.aimPointRef=t}}))),n.a.createElement("svg",{id:"info-container",x:"0",y:"0",width:window.innerWidth,height:window.innerHeight},n.a.createElement(Tt,{inkColor:this.playerData.playerColor,inkAmount:this.localPlayerData.inkAmount}),n.a.createElement("text",{id:"timer",x:"600",y:"80",width:"300",height:"100",style:{fill:this.localPlayerData.timeColor}},t),n.a.createElement(Wt,{hp:this.localPlayerData.playerHealth}),a),r):n.a.createElement(u.a,{to:{pathname:"/result/".concat(this.props.roomId),state:{result:this.state.gameResult,teamColor:this.playerData.teamColor,winOrLose:this.state.winOrLose}}})}}]),t}(n.a.Component),jt=a(165),Kt=a.n(jt),Ht=a(166),Yt=a.n(Ht);a(348);var Ut=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).closeJumpOut=function(){console.log(a.state.show),a.setState({show:{display:"none"}})},a.state={show:a.props.display,list:a.props.list,form:a.props.form},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.display!==e.display&&this.setState({show:this.props.display})}},{key:"handleInputChange",value:function(e,t){var a=this.state.form;a[t]=e.target.value,this.setState({form:a})}},{key:"handleSubmit",value:function(e){var t=this;console.log(e),this.props.socket.emit(e,{form:this.state.form}),this.props.socket.once("recieved"+e,function(e){console.log("recieved ",e),"OK"===e.message&&t.closeJumpOut()})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{style:this.state.show,className:"Jump-bg"},n.a.createElement("div",{className:"Jump-container"},n.a.createElement("button",{onClick:this.closeJumpOut,className:"Jump-closeButton"},"X"),n.a.createElement("h2",null,this.props.title),this.props.list.map(function(t){return n.a.createElement("div",{className:"Jump-component",key:t},n.a.createElement("h3",null,t),n.a.createElement("input",{onChange:function(a){return e.handleInputChange(a,t)}}))}),n.a.createElement("button",{className:"App_button",onClick:function(){return e.handleSubmit(e.props.id)}},this.props.submit)))}}]),t}(o.Component),Vt=(a(349),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleInputName=function(e){""!==e.target.value&&a.props.setName(e.target.value),"Enter"===e.key&&a.handlePlay()},a.handlePlay=function(){a.props.socket.emit("newPlayer",{name:a.props.name}),a.props.socket.once("getFirstInInfo",function(e){a.props.setRoomId(e.roomId),a.props.setUid(e.uid),a.props.setTeam(e.team),a.props.setTeamColor(e.teamColor),a.props.history.push("/wait/".concat(a.props.roomId))})},a.state={login_display:{display:"none"},signup_display:{display:"none"},isLoggedin:!1,userName:"Player",userStatus:"Guest"},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.socket.once("recievedlogin",function(t){console.log("home",t),"OK"===t.message&&e.setState({isLoggedin:!0,userName:t.userName,userStatus:t.userStatus})})}},{key:"handleDisplay",value:function(e){"login"===e?this.setState({login_display:{display:"block"}}):"signup"===e&&this.setState({signup_display:{display:"block"}})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"Home_container"},n.a.createElement("button",{className:"App_button top-button",onClick:function(){return e.handleDisplay("signup")}},"Sign up"),n.a.createElement("button",{className:"App_button top-button",onClick:function(){return e.handleDisplay("login")}},"Log in"),n.a.createElement("h3",{id:"hiMessage"},"Hi, ",this.state.userName),n.a.createElement(Ut,{display:this.state.login_display,title:"Log in",form:{id:"",pw:""},list:["id","pw"],submit:"Log in!",id:"login",socket:this.props.socket}),n.a.createElement(Ut,{display:this.state.signup_display,title:"Sign up",form:{email:"",id:"",pw:"",pw_again:""},list:["email","id","pw","pw again"],submit:"Sign up!",id:"signup",socket:this.props.socket}),n.a.createElement("div",{className:"Home_main"},n.a.createElement("img",{src:Yt.a}),n.a.createElement("input",{id:"Name",autoComplete:"off",spellCheck:"false",onKeyUp:this.handleInputName}),n.a.createElement("button",{className:"App_button",onClick:this.handlePlay},"Play!")),n.a.createElement("div",{className:"Home_mask"}),n.a.createElement("div",{id:"bg_wrapper"},n.a.createElement("img",{src:Kt.a,id:"bg_img"})))}}]),t}(o.Component)),zt=(a(350),a(351),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e="";switch(this.props.color){case k[0].main:e=Z.a;break;case k[1].main:e=j.a;break;case k[2].main:e=P.a;break;case k[3].main:e=W.a}console.log(this.props.status);var t={};return this.props.isSelf&&(t={filter:"drop-shadow(0px 0px 3px rgb(0,0,0,0.7))",border:"solid 2px"}),n.a.createElement("div",{className:"UserBlock-container",style:t},n.a.createElement("img",{src:e,alt:this.props.userName}),n.a.createElement("h3",null,this.props.userName,"   ",n.a.createElement("i",{id:"record"},this.props.playerRecord||"guest")," "),n.a.createElement("h4",null,this.props.status?"Online!":"Waiting..."))}}]),t}(n.a.Component)),Jt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).componentWillMount=function(){a.props.socket.emit("getRoomPlayers",{roomId:a.props.roomId,uid:a.props.uid}),a.props.socket.on("getRoomPlayers",function(e){var t=e.maxPlayers-e.teamA.length-e.teamB.length;t<0&&(t=0),a.setState({teamA:e.teamA,teamB:e.teamB,isRoomFull:e.isRoomFull,maxPlayers:e.maxPlayers,waitingMessage:"waiting for ".concat(t," more players to join...")}),0===t&&a.setState({waitingMessage:"Waiting... press back and re-enter if you don't wanna wait"})}),a.props.socket.on("getWaitTime",function(e){a.setState({waitTime:e.waitTime,waitingMessage:"".concat(e.waitTime," seconds before starts...")}),e.waitTime<=0&&a.props.socket.off("getWaitTime")}),a.props.socket.on("startGaming",function(){a.props.history.push("/game/".concat(a.props.roomId))})},a.handleBack=function(){a.props.socket.disconnect(),a.props.socket.open(),a.props.history.push("/home"),a.props.setName()},a.componentWillUnmount=function(){a.props.socket.off("getRoomPlayers"),a.props.socket.off("getWaitTime"),a.props.socket.off("startGaming")},a.state={teamA:[],teamB:[],isRoomFull:[],teamAColor:k[a.props.teamColor.A],teamBColor:k[a.props.teamColor.B],waitingMessage:"",currentPlayers:{}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state.teamA.map(function(t){return n.a.createElement("li",{key:t.name},n.a.createElement(zt,{userName:t.name,playerRecord:"",status:t.inWaitingRoom,team:"A",color:e.state.teamAColor.main,isSelf:t.uid===e.props.uid}))}),a=this.state.teamB.map(function(t){return n.a.createElement("li",{key:t.name},n.a.createElement(zt,{userName:t.name,playerRecord:"",status:t.inWaitingRoom,team:"B",color:e.state.teamBColor.main,isSelf:t.uid===e.props.uid}))});return console.log(this.state.teamA),n.a.createElement("div",{className:"Wait_container"},n.a.createElement("h1",null,"Game Lobby"),n.a.createElement("h3",{id:"Wait_message"},this.state.waitingMessage),n.a.createElement("div",{id:"Wait_wrapper"},n.a.createElement("div",{className:"Wait_group",style:{background:this.state.teamAColor.shadow}},n.a.createElement("h3",{className:"Wait_grouptitle"},"TEAM A"),n.a.createElement("ul",null,t)),n.a.createElement("div",{className:"Wait_group",style:{background:this.state.teamBColor.shadow}},n.a.createElement("h3",null,"TEAM B"),n.a.createElement("ul",null,a))),n.a.createElement("div",{id:"Wait_button"},n.a.createElement("button",{className:"App_button",id:"back",onClick:this.handleBack},"<"," Back")))}}]),t}(o.Component),Zt=(a(352),a(167)),$t=a.n(Zt),Xt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleOK=function(){a.props.history.push("/wait/".concat(a.props.roomId))},console.log(a.props.location.state),a.state={teamAColor:k[a.props.location.state.teamColor.A],teamBColor:k[a.props.location.state.teamColor.B],teamAarea:a.props.location.state.result.A,teamBarea:a.props.location.state.result.B,winOrLose:a.props.location.state.winOrLose,resultImage:a.props.resultImage},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={fill:this.state.teamAColor.main,filter:"drop-shadow(0px 0px 5px "+this.state.teamAColor.glow+")"},t={fill:this.state.teamBColor.main,filter:"drop-shadow(0px 0px 5px "+this.state.teamBColor.glow+")"},a=this.state.teamAarea,o=this.state.teamBarea;return n.a.createElement("div",{className:"Result-container"},n.a.createElement("h1",null,"Result: ",this.state.winOrLose),n.a.createElement("div",{className:"Result-number-container"},n.a.createElement("div",{className:"Result-number",style:{color:this.state.teamAColor}},n.a.createElement("h2",null,"Team A"),n.a.createElement("h3",null,a,"%")),n.a.createElement("div",{className:"Result-number",style:{color:this.state.teamBColor}},n.a.createElement("h2",null,"Team B"),n.a.createElement("h3",null,o,"%"))),n.a.createElement("div",null,n.a.createElement("svg",{width:"1200",height:"100",x:"200",y:"200"},n.a.createElement("rect",{className:"inkBar",x:"40",y:"20",width:1120*a/(a+o+1e-4),height:"60",style:e}),n.a.createElement("rect",{className:"inkBar",x:40+1120*a/(a+o+1e-4),y:"20",width:1120*o/(a+o+1e-4),height:"60",style:t}),n.a.createElement("rect",{className:"inkBar",x:40+1120*a/(a+o+1e-4),y:"20",width:"5",height:"60",style:{fill:"#FFFFFF"}}),n.a.createElement("image",{href:$t.a,width:"1200",height:"100"}))),n.a.createElement("div",{className:"result-image"},this.state.resultImage,"}"),n.a.createElement("button",{className:"App_button",onClick:this.handleOK},"OK!"))}}]),t}(o.Component),qt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).changeStatus={setRoomId:function(e){a.setState({roomId:e})},setName:function(e){e?a.setState({name:e}):a.setState({name:"Player"})},setUid:function(e){a.setState({uid:e})},setTeam:function(e){a.setState({team:e})},setTeamColor:function(e){a.setState({teamColor:e})}},a.socket=d()("http://192.168.0.175:8080"),a.state={roomId:null,name:"Player",uid:null,team:null,teamColor:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(u.d,null,n.a.createElement(u.b,{exact:!0,path:"/",render:function(){return n.a.createElement(u.a,{to:"/home"})}}),n.a.createElement(u.b,{path:"/home",render:function(t){return n.a.createElement(Vt,Object.assign({},t,e.state,e.changeStatus,{socket:e.socket}))}}),n.a.createElement(u.b,{path:"/wait/".concat(this.state.roomId),render:function(t){return e.state.socket&&console.log(e.state.socket.id),n.a.createElement(Jt,Object.assign({},t,e.state,{socket:e.socket,setName:e.changeStatus.setName}))}}),n.a.createElement(u.b,{path:"/game/".concat(this.state.roomId),render:function(t){return n.a.createElement(Lt,Object.assign({},t,e.state,{socket:e.socket,setRoomId:e.changeStatus.setRoomId}))}}),n.a.createElement(u.b,{path:"/result/".concat(this.state.roomId),render:function(t){return n.a.createElement(Xt,Object.assign({},t,e.state,{socket:e.socket}))}}))}}]),t}(o.Component),Qt=a(72);var ea=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(Qt.a,null,n.a.createElement(qt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(ea,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},42:function(e,t,a){e.exports=a.p+"static/media/p-01.54c2f306.svg"},43:function(e,t,a){e.exports=a.p+"static/media/p-01.e1ee8701.svg"},44:function(e,t,a){e.exports=a.p+"static/media/p-01.22deb91f.svg"},45:function(e,t,a){e.exports=a.p+"static/media/p-01.180d22f6.svg"},46:function(e,t,a){e.exports=a.p+"static/media/HitEffectiveCommon02.bb9ea272.wav"},47:function(e,t,a){e.exports=a.p+"static/media/BulletHitNoDamage.6e0d3ed4.wav"}},[[169,1,2]]]);
//# sourceMappingURL=main.c4bc5787.chunk.js.map